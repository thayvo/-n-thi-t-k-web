(this["webpackJsonpoa-chat-widget-client"]=this["webpackJsonpoa-chat-widget-client"]||[]).push([[0],{12:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return y}));var a=n(50),r=n.n(a),c=n(145),s=n(146),o=n(58),i=n.n(o),u=n(85);function l(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}i.a.prototype._final=function(){this._cipher.scrub()};var d="aes-128-cbc",f="aes-128-gcm",p="base64",g="utf8",b="sha256",h="hex";function m(t,n){var a=r.a.createCipheriv(d,e.from(l(atob(n))),e.from(new ArrayBuffer(16))),c=a.update(t,g,p);return c+=a.final(p)}function j(t,n){t=decodeURIComponent(t);var a=r.a.createDecipheriv(d,e.from(l(atob(n))),e.from(new ArrayBuffer(16))),c=a.update(t,p,g);return c+=a.final(g)}function v(t,n){var a=l(atob(t)),c=a.subarray(0,16),s=a.subarray(16,32),o=a.subarray(32),i=l(atob(n)),u=r.a.createDecipheriv(f,e.from(i),e.from(c),{authTagLength:128});u.setAutoPadding(!1),u.setAAD(e.from(s));var d=u.update(e.from(o));return u.final(),d.subarray(0,-16)}function _(e){try{return u.a.ungzip(e,{to:"string"})}catch(t){return e}}function w(e){var t=l(atob(e));try{return u.a.ungzip(t,{to:"string"})}catch(n){return e}}var O=s.a(c.a);function y(e,t){var n=e+"|"+t,a=r.a.createHmac(b,O);return a.update(n),a.digest(h)}}).call(this,n(15).Buffer)},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[49,52,118,72,115,118,55,53,112,65,102,85,67,111,78,85]},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(23);function r(e){return String.fromCharCode.apply(String,Object(a.a)(e))}},161:function(e,t,n){},167:function(e,t){},169:function(e,t){},179:function(e,t){},181:function(e,t){},208:function(e,t){},210:function(e,t){},211:function(e,t){},216:function(e,t){},218:function(e,t){},237:function(e,t){},249:function(e,t){},252:function(e,t){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getSessionInfo",(function(){return Fn})),n.d(a,"upgradeSessionInfo",(function(){return Bn})),n.d(a,"loadSessionForNewTab",(function(){return Vn})),n.d(a,"endSession",(function(){return Zn})),n.d(a,"followOA",(function(){return Wn}));var r=n(2),c=n.n(r),s=n(57),o=n.n(s),i=(n(161),n(5)),u=n(9),l=n(1),d=n(4),f=n(23),p=n(3),g=function(e,t){return"".concat(e,"?continue=").concat(encodeURIComponent(t))},b=window.ZALO_LOGIN_DOMAIN,h="https://chat.zalo.me/",m=window.ENV,j="/_/login/callback",v=g(b,h),_="/_/upgrade/callback",w=g(b,h),O="/_/pc/callback",y=g(b,h),k=512e3,x=1e8,I=4e6,S="/api/message/asyncfile/upload",N=20,z=1500,C=1e3,M="production"===m?{widgetChatDomain:"https://widget.chat.zalo.me",widgetApiDomain:"https://api.widget.zalo.me/v1",zaloMeDomain:"https://zalo.me/{oaId}",zaloWebDomain:"https://chat.zalo.me/?c={convId}",zaloPcDomain:"zalo://conversation?id=o{convId}",zaloPcUrl:"https://zalo.me/pc",pingInterval:6e4,showTypingDuration:2e3,sendDuration:6e4,conversationDuration:216e5,upgrade:{loginURL:w,callbackURI:_,callbackMessage:"zawidget-upgraded",width:400,height:650,title:"Login Zalo"},login:{loginURL:v,callbackURI:j,callbackMessage:"zawidget-logged",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3},zalopc:{loginURL:y,callbackURI:O,callbackMessage:"zawidget-zalopc",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3}}:{widgetChatDomain:"https://dev-widget.chat.zalo.me",widgetApiDomain:"https://dev-api.widget.zalo.me/v1",zaloMeDomain:"https://zalo.me/{oaId}",zaloWebDomain:"https://chat.zalo.me/?c={convId}",zaloPcDomain:"zalo://conversation?id=o{convId}",zaloPcUrl:"https://zalo.me/pc",pingInterval:6e4,showTypingDuration:2e3,sendDuration:6e4,conversationDuration:216e5,upgrade:{loginURL:w,callbackURI:_,callbackMessage:"zawidget-upgraded",width:400,height:650,title:"Login Zalo"},login:{loginURL:v,callbackURI:j,callbackMessage:"zawidget-logged",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3},zalopc:{loginURL:y,callbackURI:O,callbackMessage:"zawidget-zalopc",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3}},E="UPDATE_ZUSER_INFO",T="UPDATE_OA_INFO",D="UPDATE_SHOW_BOX",P="INITIALIZED_APP",A=function(e){return e[e.Unknown=0]="Unknown",e[e.Initialized=1]="Initialized",e[e.Pending=2]="Pending",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Failed=5]="Failed",e}({}),R="UPDATE_SESSION",U="UPDATE_INIT_SESSION_STATE",L="CLOSE_SESSION",q="UPDATE_MESSAGES_2",F="UPDATE_TYPING",B="REPLY_MESSAGE",V="REMOVE_REPLY_MESSAGE",Z="UPDATE_INIT_MESSAGE_STATE",W="UPDATE_NEW_MESSAGE_COUNT",G=function(e){return e[e.Unknown=0]="Unknown",e[e.Sending=1]="Sending",e[e.Sent=2]="Sent",e[e.Delivered=3]="Delivered",e[e.Seen=4]="Seen",e[e.Error=5]="Error",e[e.ErrorTooBigFile=6]="ErrorTooBigFile",e[e.ErrorTooBigPhoto=7]="ErrorTooBigPhoto",e[e.Uploading=8]="Uploading",e}({}),H="UPDATE_STICKER",J="UPDATE_STICKER_VALUE",K="UPDATE_SHOW_STICKER_BOX",Y=function(e){return e[e.Unknown=0]="Unknown",e[e.Downloading=1]="Downloading",e[e.Downloaded=2]="Downloaded",e[e.Pending=3]="Pending",e[e.Error=4]="Error",e}({}),X="ZWSOCKET",Q="UPDATE_ZWCONNECTION_STATE",$="UPDATE_PING_INTERVAL_ID",ee="UPDATE_ZWEBSOCKET_ENCRYPT_KEY",te="ZWEBSOCKET_CONNECTED_ACTION",ne=function(e){return e[e.Unknown=0]="Unknown",e[e.Initialized=1]="Initialized",e[e.Connecting=2]="Connecting",e[e.Connected=3]="Connected",e[e.Closed=4]="Closed",e[e.Failed=5]="Failed",e}({}),ae=function(e){return e[e.Success=0]="Success",e[e.Failed=-1]="Failed",e[e.Exception=-99]="Exception",e}({}),re=function(e){return e[e.Random=1]="Random",e[e.Round_Robin=2]="Round_Robin",e}({}),ce=n(41);function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e.error_code===ae.Success}))}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e.error_code===ae.Success&&(!!e.data&&e.data.error_code===ae.Success)}))}var ie=function(e){return{type:H,payload:e}},ue=function(e,t,n,a){var r=t.categoriesRender;r.status=n,r.data=a||[],e(ie(Object(p.a)(Object(p.a)({},t),{},{categoriesRender:Object(p.a)({},r)})))},le=function(e,t){return{type:J,payload:{cateId:e,value:t}}},de=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){var r,c,s,o,i,u,d;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.zstickerService,e.prev=2,c=n().sticker,(s=c.categoriesRender).status===Y.Error||s.status===Y.Pending){e.next=7;break}return e.abrupt("return");case 7:return ue(t,c,Y.Downloading),e.next=10,r.getUserStickerCategories();case 10:if(se(o=e.sent)){i=Object(ce.a)(o.data.categories);try{for(i.s();!(u=i.n()).done;)d=u.value,t(fe(d.id))}catch(l){i.e(l)}finally{i.f()}ue(t,c,Y.Downloaded,o.data.categories)}else ue(t,c,Y.Error);e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a){return e.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zstickerService,s=a().sticker,!(o=s.stickerMap)[e]||!o[e].status||o[e].status===Y.Error){t.next=5;break}return t.abrupt("return");case 5:return n(le(e,{status:Y.Downloading,data:{}})),t.prev=6,t.next=9,c.getUserStickersByCategory(e);case 9:se(i=t.sent)?(u=i.data.stickers,d={},u.forEach((function(e){d[e.id]=e.url})),n(le(e,{status:Y.Downloading,data:d}))):n(le(e,{status:Y.Error,data:{}})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),n(le(e,{status:Y.Error,data:{}}));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,n,a){return t.apply(this,arguments)}}()},pe=n(35),ge=n(148),be=n(10),he=n(11),me=function(e){return e[e.Unknown=0]="Unknown",e[e.Zalo=1]="Zalo",e[e.Anonymous=2]="Anonymous",e}({}),je=function(e){return e[e.Default=0]="Default",e[e.Audio=1]="Audio",e[e.Video=2]="Video",e}({}),ve=function(e){return e[e.Zip=1]="Zip",e[e.GZIP_AES128_GCM=2]="GZIP_AES128_GCM",e}({}),_e=function(e){return e[e.Unknown=0]="Unknown",e[e.Authentication=1]="Authentication",e[e.Ping=2]="Ping",e[e.Upgrade=3]="Upgrade",e[e.Create_Connection=4]="Create_Connection",e[e.Receive_Message=501]="Receive_Message",e[e.Typing_Message=502]="Typing_Message",e[e.Delivered_Message=503]="Delivered_Message",e[e.Seen_Message=504]="Seen_Message",e[e.Load_Thread_Chat=511]="Load_Thread_Chat",e[e.Pull_Offline_Message=512]="Pull_Offline_Message",e[e.Load_History_Chat=513]="Load_History_Chat",e[e.Control=521]="Control",e}({}),we=function(e){return e[e.Unknown=0]="Unknown",e[e.Text=1]="Text",e[e.Photo=2]="Photo",e[e.Video=3]="Video",e[e.File=4]="File",e[e.Sticker=5]="Sticker",e[e.Location=6]="Location",e[e.Chat_Recommeneded=7]="Chat_Recommeneded",e[e.Reaction=8]="Reaction",e[e.Conversation=9]="Conversation",e[e.Audio=10]="Audio",e}({}),Oe=function(e){return e.Link="recommened.link",e}({}),ye=function(e){return e[e.Unknown=2]="Unknown",e[e.Text=1]="Text",e[e.File=2]="File",e}({}),ke=function(){function e(){var t=this;Object(be.a)(this,e),this.wsocket=void 0,this.connectUrl=void 0,this.onopenCb=void 0,this.oncloseCb=void 0,this.onmessageCb=void 0,this.onerrorCb=void 0,this.fallback=function(e){var n=function(){var t=Object(d.a)(Object(l.a)().mark((function t(){var a;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(502!==(a=t.sent).status){t.next=9;break}return t.next=7,n();case 7:case 14:t.next=18;break;case 9:if(200===a.status){t.next=16;break}return t.next=12,new Promise((function(e){return setTimeout(e,1e3)}));case 12:return t.next=14,n();case 16:return t.next=18,n();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return new Promise((function(e,a){if(!t.wsocket)return a("Using fallback before utilizing socket");n(),e()}))}}return Object(he.a)(e,[{key:"connect",value:function(e){var t=this,n=new URL(e);return n.search=new URLSearchParams({zpw_ver:"351",zpw_type:"30"}).toString(),this.connectUrl=n.toString(),new Promise((function(e,n){t.connectUrl?(t.wsocket=new WebSocket(t.connectUrl),t.onopenCb&&(t.wsocket.onopen=t.onopenCb),t.oncloseCb&&(t.wsocket.onclose=t.oncloseCb),t.onmessageCb&&(t.wsocket.onmessage=t.onmessageCb),t.onerrorCb&&(t.wsocket.onerror=t.onerrorCb),e()):n("ConnectUrl is empty!")}))}},{key:"onopen",value:function(e){var t=this;return this.onopenCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onopen=e,n()}))}},{key:"onclose",value:function(e){var t=this;return this.oncloseCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onclose=e,n()}))}},{key:"onerror",value:function(e){var t=this;return this.onerrorCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onerror=e,n()}))}},{key:"onmessage",value:function(e){var t=this;return this.onmessageCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onmessage=e,n()}))}},{key:"send",value:function(e){var t=this;return new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");try{t.wsocket.send(e),n()}catch(r){a(r)}}))}}],[{key:"createPacket",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=4+(a=a?(new TextEncoder).encode(JSON.stringify(a)):[]).length,c=new ArrayBuffer(r),s=new DataView(c);(s.setUint8(0,e),s.setUint16(1,t,!0),s.setUint8(3,n),a.length>0)&&new Uint8Array(c,4).set(a);return s}},{key:"createPingMessage",value:function(){return e.createPacket(1,_e.Ping,0)}},{key:"createMsgMessage",value:function(){return e.createPacket(1,501,0)}},{key:"createLoadThreadChat",value:function(t){return e.createPacket(1,_e.Load_Thread_Chat,0,t)}},{key:"createPullOfflineMessage",value:function(t){return e.createPacket(1,_e.Pull_Offline_Message,0,t)}},{key:"createUpgradeZWebsocketPacket",value:function(t){return e.createPacket(1,_e.Upgrade,0,t)}},{key:"createConnection",value:function(t){return e.createPacket(1,_e.Create_Connection,0,t)}},{key:"createLoadHistoryChat",value:function(t){return e.createPacket(1,_e.Load_History_Chat,0,t)}}]),e}(),xe=n(18),Ie=n(25),Se=n(12),Ne=function(e){return e||(e=_t.getState().session.encrWzuId?me.Zalo:me.Anonymous),new Promise((function(t){e===me.Anonymous?ZA.getAnonymousVid((function(e){t(e)})):t(ZA.getVisitorID())}))},ze=n(147),Ce=n.n(ze).a.create({withCredentials:!0}),Me=n(14);function Ee(e){return new Promise((function(t){return setTimeout(t,e)}))}function Te(e){return 1===e.length?e[0]:e[(t=0,n=e.length-1,Math.floor(Math.random()*n)+t)];var t,n}var De,Pe=new Map;var Ae=(De={},Object(Me.a)(De,re.Random,Te),Object(Me.a)(De,re.Round_Robin,(function(e,t){if(0===e.length)return e[0];if(!t){if(0===e.length)throw"roundRobinDomainStrategy: Invalid params";t=e[0]}var n=Pe.get(t);if(void 0===n)return Pe.set(t,0),e[0];var a=n+1>=e.length?0:n+1;return Pe.set(t,a),e[n]})),De),Re=Object(he.a)((function e(){var t=this;Object(be.a)(this,e),this.get=function(){var e=Object(d.a)(Object(l.a)().mark((function e(n,a,r){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request(n,a,"GET",r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.post=function(){var e=Object(d.a)(Object(l.a)().mark((function e(n,a,r){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request(n,a,"POST",r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.getRequestDomainByStrategy=function(e,t){if(1===e.length)return e[0];var n=t.lbType||re.Random;return Ae[n](e,t.lbKey)},this.request=function(){var e=Object(d.a)(Object(l.a)().mark((function e(n,a,r,c){var s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.getRequestDomainByStrategy(n,c),e.abrupt("return",new Promise((function(e,t){Ce.request({baseURL:s,url:a,method:r,headers:Object(p.a)(Object(p.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),params:c.query,data:c.body}).then((function(t){e(t.data)})).catch((function(e){t({error_code:ae.Exception,error_message:JSON.stringify(e)})}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()})),Ue=function(e){Object(xe.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(be.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).secureGet=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest(n,a,"GET",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.secureGet2=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest2(n,a,"GET",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.securePost=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest(n,a,"POST",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.securePost2=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest2(n,a,"POST",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.secureRequest2=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r,c){var s;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.getRequestDomainByStrategy(n,c),t.abrupt("return",new Promise((function(t,n){try{Ce.request({baseURL:s,url:a,method:r,params:c.query,data:c.body,headers:Object(p.a)(Object(p.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),transformRequest:e.getTransformRequestFormData(r,null===c||void 0===c?void 0:c.enk),transformResponse:e.getTransformResponse(null===c||void 0===c?void 0:c.enk)}).then((function(e){t(e.data)})).catch((function(e){n({error_code:ae.Exception,error_message:JSON.stringify(e)})}))}catch(o){}})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),e.secureRequest=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r,c){var s;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.getRequestDomainByStrategy(n,c),t.abrupt("return",new Promise((function(t,n){try{Ce.request({baseURL:s,url:a,method:r,params:c.query,data:c.body,headers:Object(p.a)(Object(p.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),transformRequest:e.getTransformRequestFormData(r,null===c||void 0===c?void 0:c.enk),transformResponse:e.getTransformResponse(null===c||void 0===c?void 0:c.enk)}).then((function(e){t(e.data)})).catch((function(e){n({error_code:ae.Exception,error_message:JSON.stringify(e)})}))}catch(o){}})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),e.getTransformResponse=function(e){if(e){return function(t){try{if(t){var n=JSON.parse(t);if(n.data){var a=Object(Se.a)(n.data,e);return Object(p.a)(Object(p.a)({},n),{},{data:JSON.parse(a)})}return n}}catch(r){}return t}}},e.getTransformRequestFormData=function(e,t){if("GET"!==e&&t){return function(e){var n=Object(Se.c)(JSON.stringify(e),t),a=new URLSearchParams;return a.append("params",n),a}}},e}return Object(he.a)(n)}(Re),Le=Ue,qe=function(e){Object(xe.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(be.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getSessionInfo=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n===me.Zalo?"/login":"/login-as-guest",t.abrupt("return",e.get([M.widgetChatDomain],c,{query:{oaId:r},headers:{Authorization:Object(Se.d)(c,"")}}));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.loginTab=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/login-tab",t.abrupt("return",e.get([M.widgetChatDomain],r,{query:{oaId:a},headers:{Authorization:Object(Se.d)(r,"")}}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.upgradeSessionInfo=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return r=t.sent,t.abrupt("return",e.get([M.widgetChatDomain],"/upgrade",{query:{oaid:n,newGlobalId:a,globalId:r},headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.closeSession=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([M.widgetChatDomain],"/conv/close",{query:{oaid:n,globalId:a},headers:{}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.mapSession=Object(d.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetChatDomain],"/login",{headers:{Authorization:Object(Se.d)("/login","")}}));case 1:case"end":return t.stop()}}),t)}))),e.sendControl=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/send-control",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},a),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendTyping=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/typing",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},a),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendStickerMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d,f,p;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.toId,s=a.clientId,o=a.sticker,i=a.wzuId,u=o.id,d=o.catId,f=o.type,t.next=4,Ne();case 4:return p=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/sticker",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{clientId:s,toId:c,stickerId:u,cateId:d,type:f,wzuId:i,globalId:p},enk:r}));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendTextMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/sms",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},a),{},{zwp:0,type:0,globalId:c}),enk:r,headers:{Authorization:Object(Se.d)("/api/message/sms",JSON.stringify(Object(p.a)(Object(p.a)({},a),{},{zwp:0,type:0})))}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendQuoteMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/quote",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},a),{},{globalId:c}),enk:r,headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendPhotoMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d,f,p;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.toId,s=a.clientId,o=a.photo,i=a.desc,u=a.width,d=a.height,f=a.wzuId,t.next=3,Ne();case 3:return p=t.sent,t.abrupt("return",e.securePost(n,"/api/message/photo_original/send",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{toId:c,clientId:s,photoId:o.photoId,rawUrl:o.hdUrl,thumbUrl:o.thumbUrl,normalUrl:o.normalUrl,hdUrl:o.hdUrl,width:u,height:d,desc:i,wzuId:f,globalId:p},enk:r}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendPhotoMessageB=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d,f,p,g,b,h,m;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.toId,s=n.clientId,o=n.photo,i=n.desc,u=n.width,d=n.height,f=n.wzuId,p=o.result,g=p.mediaId,b=p.mapQualityInfo,h=p.mediaUrl,t.next=4,Ne();case 4:return m=t.sent,t.abrupt("return",e.securePost2([a],"/api/message/photo_original/send",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{toId:c,clientId:s,photoId:g,rawUrl:h,thumbUrl:null===b||void 0===b?void 0:b.Tiny,normalUrl:h,hdUrl:h,width:u,height:d,desc:i,wzuId:f,globalId:m},enk:r}));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendVideoMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2([a],"/api/message/video",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendFileMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2([a],"/api/message/asyncfile/msg",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendLinkMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2(a,"/api/message/link",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendReactionMessage=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return c=t.sent,t.abrupt("return",e.securePost2(a,"/api/message/reaction",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(p.a)(Object(p.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendLogChatPc=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return r=t.sent,t.abrupt("return",e.get([M.widgetChatDomain],"/api/log/chatpc",{query:{zpc_type:n,globalId:r,oaId:a},headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendLog=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){var r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne();case 2:return r=t.sent,t.abrupt("return",e.get([M.widgetChatDomain],"/api/log",{query:{action:n,globalId:r,oaId:a},headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(he.a)(n)}(Le),Fe=new qe,Be=function(e){Object(xe.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(be.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getUserStickerCategories=Object(d.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetApiDomain],"/stk-cate",{headers:{Authorization:Object(Se.d)("/stk-cate","")}}));case 1:case"end":return t.stop()}}),t)}))),e.getUserStickersByCategory=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetApiDomain],"/stk-cate/stickers",{query:{cate_id:n},headers:{Authorization:Object(Se.d)("/stk-cate/stickers","")}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStickerUrl=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([M.widgetApiDomain],"/stk-url",{query:{cate_id:n,sticker_id:a},headers:{Authorization:Object(Se.d)("/stk-url","")}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(he.a)(n)}(Le),Ve=new Be,Ze=function(e){Object(xe.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(be.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getVideoInfo=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(n,"/v1/info/video",{query:{videoId:a}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.postChunkB=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r,c,s){var o,i,u;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",Promise.reject({error_code:ae.Exception,error_message:"chunk cannot be undefined"}));case 2:return(o=new FormData).append("chunkData",new Blob([r])),i={enk:s,query:c,body:o},t.prev=5,t.next=8,e.securePostB(n,a,i);case 8:return u=t.sent,t.abrupt("return",u);case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",Promise.reject({error_code:ae.Exception,error_message:JSON.stringify(t.t0)}));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n,a,r,c){return t.apply(this,arguments)}}(),e.securePostB=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.getRequestDomainByStrategy(n,r),t.abrupt("return",new Promise((function(e,t){Ce.request({baseURL:c,url:a,method:"POST",params:r.query,data:r.body,headers:r.headers}).then((function(t){e(t.data)})).catch((function(e){t({error_code:ae.Exception,error_message:JSON.stringify(e)})}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getParamsSerializer=function(e){if(e){return function(t){var n=Object(Se.c)(JSON.stringify(t),e),a=new URLSearchParams;return a.append("zpw_type","30"),a.append("zpw_ver","74"),a.append("params",n),a}}},e.getTransformResponse=function(e){if(e){return function(t){if(t){var n=JSON.parse(t);if(n.data){var a=Object(Se.a)(n.data,e);return Object(p.a)(Object(p.a)({},n),{},{data:JSON.parse(a)})}return n}return t}}},e}return Object(he.a)(n)}(Le),We=new Ze,Ge=function(e){Object(xe.a)(n,e);var t=Object(Ie.a)(n);function n(){var e;Object(be.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getZUserInfo=Object(d.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([M.widgetApiDomain],"/zuser",{}));case 1:case"end":return t.stop()}}),t)}))),e.getWidgetOAInfo=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n){var a;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={oaid:n},t.abrupt("return",e.get([M.widgetApiDomain],"/oa",{query:a,headers:{Authorization:Object(Se.d)("/oa",JSON.stringify(a))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.followOA=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/oa/follow",r={oaid:n},t.abrupt("return",e.get([M.widgetApiDomain],a,{query:r,headers:{Authorization:Object(Se.d)(a,JSON.stringify(r))}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.parseLink=function(){var t=Object(d.a)(Object(l.a)().mark((function t(n){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([M.widgetApiDomain],"/link-parser",{query:{link:n}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(he.a)(n)}(Le),He=new Ge,Je=new RegExp("(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)");function Ke(e){return Je.test(e)}function Ye(e){return e.split(" ").find((function(e){return Ke(e)}))}function Xe(e){try{return new URL(e).hostname||e}catch(t){return""}}function Qe(e){if(e.length<=C)return[e];var t=function(e,t,n){var a=Math.min(n+C,e.length),r=e.substring(n,a),c=t.map((function(e){return r.lastIndexOf(e)})),s=Math.max.apply(Math,Object(f.a)(c));return s>0?s+n:-1},n=function(n){if(n+C>e.length)return e.length;var a=function(e,n){return t(e,[".","!","?"],n)}(e,n);return a>0?a+1:(a=function(e,n){return t(e,[" "],n)}(e,n),a>0?a+1:Math.min(n+C,e.length))},a=[],r=0;do{var c=n(r),s=e.substring(r,c).trim();s&&a.push(s),r=c}while(r<e.length);return a}var $e,et={status:A.Loading,oaIdPublic:"",oaWelcomeMessage:"Ch\xe0o b\u1ea1n, ch\xfang t\xf4i c\xf3 th\u1ec3 gi\xfap g\xec \u0111\u01b0\u1ee3c cho b\u1ea1n?",oaAutoPopup:0,oaWidth:400,oaHeight:650,shouldShowBox:!1,tabId:Math.random().toString(36).substr(2,5).toUpperCase()},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload.appInfo),{},{status:t.payload.status,oaInfo:t.payload.oaInfo,zuserInfo:t.payload.zuserInfo});case E:return Object(p.a)(Object(p.a)({},e),{},{zuserInfo:t.payload});case T:return Object(p.a)(Object(p.a)({},e),{},{oaInfo:t.payload});case D:return Object(p.a)(Object(p.a)({},e),{},{shouldShowBox:t.payload});default:return e}},nt="LOAD_HISTORY",at="CLOSE_HISTORY",rt={shouldShow:!1,conversationId:0,content:{messages:[],total:0}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:var n=t.payload,a=n.messages,r=n.total;return Object(p.a)(Object(p.a)({},e),{},{shouldShow:!0,content:{messages:a,total:r}});case at:return rt;default:return e}},st={typing:{onGoing:!1,cancelId:null},messages:[],messagesInfo:{},replyingMsg:void 0,initState:A.Initialized,newMsgCount:0},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(p.a)(Object(p.a)({},e),{},{initState:t.payload});case B:return Object(p.a)(Object(p.a)({},e),{},{replyingMsg:t.payload.message});case V:return Object(p.a)(Object(p.a)({},e),{},{replyingMsg:void 0});case F:return Object(p.a)(Object(p.a)({},e),{},{typing:t.payload});case q:return Object(p.a)(Object(p.a)({},e),t.payload);case W:return Object(p.a)(Object(p.a)({},e),{},{newMsgCount:t.payload});default:return e}},it={status:A.Initialized,conversationType:me.Unknown,service_map:{web_socket:[],message:[],upload:[]},zoaw_enk:"",globalId:"",encrWzuId:"",zconv_id:""},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(p.a)(Object(p.a)({},e),{},{status:t.payload});case R:return Object(p.a)(Object(p.a)({},e),t.payload);case L:return Object(p.a)(Object(p.a)({},e),{},{status:A.Initialized,conversationType:me.Unknown});default:return e}},lt={stickerMap:{},categoriesRender:{status:Y.Pending,data:[]},isShowStickerBox:!1},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:var n=e.stickerMap,a=t.payload,r=a.cateId,c=a.value;return n[r]?(n[r].status=c.status,n[r].data=Object(p.a)(Object(p.a)({},n[r].data),c.data),n[r].extData=Object(p.a)(Object(p.a)({},n[r].extData),c.extData)):n[r]=c,Object(p.a)(Object(p.a)({},e),{},{stickerMap:Object(p.a)({},n)});case K:return Object(p.a)(Object(p.a)({},e),{},{isShowStickerBox:t.payload});case H:return t.payload;default:return e}},ft={zws_key:"",connectionState:ne.Initialized},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(p.a)(Object(p.a)({},e),{},{connectionState:t.payload.connectionState,pingIntervalId:t.payload.pingIntervalId});case ee:return Object(p.a)(Object(p.a)({},e),{},{zws_key:t.payload});case $:return Object(p.a)(Object(p.a)({},e),{},{pingIntervalId:t.payload});case Q:return Object(p.a)(Object(p.a)({},e),{},{connectionState:t.payload});default:return e}},gt=Object(pe.c)({app:tt,session:ut,messaging:ot,sticker:dt,history:ct,zwebsocket:pt}),bt={zchatService:Fe,zwidgetService:He,zuploadService:We,zstickerService:Ve},ht=new ke,mt=[ge.a.withExtraArgument(bt),($e=ht,function(e){return function(t){return function(n){var a=n.promise;return n.type===X||a?a($e,e):t(n)}}})];var jt,vt=Object(pe.d)(gt,pe.a.apply(void 0,Object(f.a)(mt))),_t=vt,wt=n(27),Ot=function(e){var t;if(!e)return"";var n,a=_t.getState().app;return kt(e)?"0"===e.srcId?wt.a.t("messageowner.guest"):null===(n=a.zuserInfo)||void 0===n?void 0:n.name:null===(t=a.oaInfo)||void 0===t?void 0:t.name},yt=function(e){var t,n,a;return(null===(t=e.quote)||void 0===t?void 0:t.fromD)||Ot(null===(n=e.quote)||void 0===n?void 0:n.quotedMessage)||function(e){if(!e)return"";var t=_t.getState().messaging,n=t.messagesInfo[e].index,a=t.messages[n];return Ot(a)}(null===(a=e.quote)||void 0===a?void 0:a.cliMsgId)},kt=function(e){return"0"===e.srcId||!xt(e.srcId)},xt=function(e){return e===_t.getState().session.conversationId},It=function(e){return e.state===G.Error?"cant-send":""},St=function(e){return e.state===G.Error||e.state===G.ErrorTooBigFile||e.state===G.ErrorTooBigPhoto},Nt=function(e,t,n,a){return{cliMsgId:n.cliMsgId,msgType:we.Chat_Recommeneded,srcId:e,destId:t,content:{action:Oe.Link,description:a.desc,href:a.href,thumb:a.thumb,title:a.href,parsedParams:{mediaTitle:a.title,src:a.href,type:a.type},message:n.content}}},zt=function(e){return function(e,t){var n=_t.getState().sticker.stickerMap,a=n[e].data,r=n[e].extData;return a&&a[t]||r&&r[t]||""}(e.catId,e.id)||""},Ct=function(e){return{type:F,payload:e}},Mt=function(e){return e.Video720P="Video720P",e.Video480P="Video480P",e.Video360P="Video360P",e}({}),Et=function(e){return new Promise((function(t,n){var a=window.URL||window.webkitURL,r=new Image,c=a.createObjectURL(e),s=e.name;r.onload=function(){t({localUrl:c,title:s,width:r.width,height:r.height})},r.onerror=function(){n("Cannot get image dimensions")},r.src=c}))},Tt=function(e){return new Promise((function(t,n){var a=(window.URL||window.webkitURL).createObjectURL(e),r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){var n=this.videoHeight,r=this.videoWidth;t({title:e.name,localUrl:a,ext:e.name.split(".").pop(),height:n,width:r,duration:this.duration})}),!1),r.onerror=function(){n("Cannot get video dimensions")},r.src=a}))},Dt=function(e,t,n,a,r){return new Promise((function(c,s){var o=new FileReader;o.readAsArrayBuffer(e),o.onload=Object(d.a)(Object(l.a)().mark((function i(){var u,d,f;return Object(l.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,u=o.result,i.next=4,Rt(t,n,a,r,"/v1/upload/image",u,e.name);case 4:d=i.sent,(f=null===d||void 0===d?void 0:d.data)?c(f):s("No photo info response from server"),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),s(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,9]])}))),o.onerror=function(){s(o.error)}}))},Pt=function(e,t,n,a,r,c){return new Promise((function(s,o){var i=new FileReader;i.readAsArrayBuffer(e),i.onload=Object(d.a)(Object(l.a)().mark((function u(){var d,f,p;return Object(l.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return d=i.result,u.next=3,Rt(t,n,r,c,a,d,e.name);case 3:f=u.sent,(p=null===f||void 0===f?void 0:f.data)?s(p):o("No file info response from server");case 6:case"end":return u.stop()}}),u)}))),i.onerror=function(){o(i.error)}}))},At=function(e,t,n,a,r){return new Promise((function(c,s){var o=new FileReader;o.readAsArrayBuffer(e);var i=function(){var e=Object(d.a)(Object(l.a)().mark((function e(a){var r,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<N)){e.next=14;break}return e.next=4,Ee(z);case 4:return e.next=6,t.getVideoInfo(n,a);case 6:if(!se(c=e.sent)){e.next=11;break}if(!(s=Ut(c.data))){e.next=11;break}return e.abrupt("return",s);case 11:r++,e.next=1;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.onload=Object(d.a)(Object(l.a)().mark((function e(){var u,d,f,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=o.result,e.next=4,Rt(t,n,a,r,"/v1/upload/video",u);case 4:return d=e.sent,(f=(null===d||void 0===d?void 0:d.data.result.mediaId)||"")||s("Upload video failed"),e.next=9,i(f);case 9:(p=e.sent)?c(p):s("No video info response from server"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),s(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),o.onerror=function(){s(o.error)}}))},Rt=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a,r,c,s,o){var i,u,f,p,g,b,h,m,j,v,_;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=Math.floor(1e5*Math.random()).toString(),u=s.byteLength,f=k,p=Math.ceil(u/f),g=[],b=0;b<p;++b)h=b*f,m=null===s||void 0===s?void 0:s.slice(h,h+f),g.push(m);for(j=function(){var e=Object(d.a)(Object(l.a)().mark((function e(s){var d,f,b;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=s+1,f=g[s],e.next=4,t.postChunkB(n,c,f,{toId:a,clientFileId:i,clientId:i,fileSize:u,totalSize:u,totalChunk:p,chunkSeq:d,chunkId:d,fileName:o,apiKey:"SbgbohHqDBrux4iFmwFOpbkHFyC0kH8J"},r);case 4:if((b=e.sent)&&se(b)){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Upload chunk failed!")));case 7:return e.abrupt("return",b);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[],_=0;_<p-1;++_)v.push(j(_));return e.prev=9,e.next=12,Promise.all(v);case 12:return e.next=14,j(p-1);case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t0=e.catch(9),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n,a,r,c,s,o){return e.apply(this,arguments)}}(),Ut=function(e){var t=e.result;for(var n in Mt){var a=t.mapVideoQuality[n];if(a&&"NOT READY"!==a.url&&null!=a.thumbnail)return a}return null},Lt=n(149),qt=function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d,f,p,g,b,h;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zuploadService,s=r.zchatService,o=a().session.conversationId){t.next=5;break}return t.abrupt("return");case 5:if(i=Date.now(),u=a().session,d=u.zoaw_enk,f=u.service_map,p=u.encrWzuId,t.prev=7,an({cliMsgId:i.toString(),msgType:we.File,srcId:"0",destId:o,content:{title:e.name,description:"",href:"",thumb:"",childnumber:1,action:"",type:"",params:"",parsedParams:{fileSize:e.size,checksum:"",fileExt:"",fdata:null,fType:1}}},n,a),!(e.size>x)){t.next=13;break}return nn(a(),i,n,G.ErrorTooBigFile),t.abrupt("return");case 13:return nn(a(),i,n,G.Uploading),t.next=16,Pt(e,c,f.message,S,o,"");case 16:return g=t.sent,t.t0=Lt.sha256,t.next=20,e.arrayBuffer();case 20:return t.t1=t.sent,b=(0,t.t0)(t.t1),h=M.widgetChatDomain,t.next=25,s.sendFileMessage({toId:o,clientId:i,fileName:e.name,extension:e.type,fileUrl:g.url,totalSize:e.size,checksum:b,wzuId:p},h,d);case 25:se(t.sent.data)?nn(a(),i,n,G.Sent):nn(a(),i,n,G.Error),t.next=33;break;case 29:t.prev=29,t.t2=t.catch(7),nn(a(),i,n,G.Error);case 33:case"end":return t.stop()}}),t,null,[[7,29]])})));return function(e,n,a){return t.apply(this,arguments)}}()},Ft=function(e,t){return function(){var n=Object(d.a)(Object(l.a)().mark((function n(a,r,c){var s,o,i,u,d,f,p,g,b,h,m,j,v,_,w;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c.zuploadService,o=c.zchatService,i=r().session.conversationId){n.next=5;break}return n.abrupt("return");case 5:return u=Date.now(),d=r().session,f=d.zoaw_enk,p=d.service_map,g=d.encrWzuId,n.prev=7,n.next=10,Et(e);case 10:if(b=n.sent,h=b.localUrl,m=b.width,j=b.height,v=b.title,an({cliMsgId:u.toString(),msgType:we.Photo,srcId:"0",destId:i,content:{title:v,description:t,href:h,parsedParams:{width:m,height:j}}},a,r),!(e.size>I)){n.next=20;break}return nn(r(),u,a,G.ErrorTooBigPhoto),n.abrupt("return");case 20:return nn(r(),u,a,G.Uploading),n.next=23,Dt(e,s,p.upload,i,f);case 23:return _=n.sent,w=M.widgetChatDomain,n.next=27,o.sendPhotoMessageB({toId:i,title:v,clientId:u,photo:_,desc:t,width:m,height:j,wzuId:g},w,f);case 27:se(n.sent.data)?nn(r(),u,a,G.Sent):nn(r(),u,a,G.Error),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(7),nn(r(),u,a,G.Error);case 35:case"end":return n.stop()}}),n,null,[[7,31]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Bt=function(e,t){return function(){var n=Object(d.a)(Object(l.a)().mark((function n(a,r,c){var s,o,i,u,d,f,p,g,b,h,m,j,v,_,w,O;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c.zuploadService,o=c.zchatService,i=r().session.conversationId){n.next=5;break}return n.abrupt("return");case 5:return u=Date.now(),d=r().session,f=d.zoaw_enk,p=d.service_map,g=d.encrWzuId,n.prev=7,n.next=10,Tt(e);case 10:if(b=n.sent,h=b.title,m=b.width,j=b.height,v=b.localUrl,_=b.duration,an({cliMsgId:u.toString(),msgType:we.Video,srcId:"0",destId:i,content:{title:h,description:t,href:v,thumb:"",parsedParams:{video_width:m,video_height:j}}},a,r),!(e.size>x)){n.next=21;break}return nn(r(),u,a,G.ErrorTooBigFile),n.abrupt("return");case 21:return nn(r(),u,a,G.Uploading),n.next=24,At(e,s,p.upload,i,f);case 24:return w=n.sent,O=M.widgetChatDomain,n.next=28,o.sendVideoMessage({toId:i,clientId:u,videoUrl:w.url,width:m,height:j,duration:_,thumbUrl:w.thumbnail,wzuId:g},O,f);case 28:se(n.sent.data)?nn(r(),u,a,G.Sent):nn(r(),u,a,G.Error),n.next=36;break;case 32:n.prev=32,n.t0=n.catch(7),nn(r(),u,a,G.Error);case 36:case"end":return n.stop()}}),n,null,[[7,32]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Vt=function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d,f;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zchatService,s=a().session,o=s.zoaw_enk,i=s.service_map,u=s.encrWzuId,d=a().session.conversationId){t.next=6;break}return t.abrupt("return");case 6:return f=Date.now(),an({cliMsgId:f.toString(),msgType:we.Sticker,srcId:"0",destId:d,content:e},n,a),t.prev=8,t.next=11,c.sendStickerMessage(i.message,{toId:d,clientId:f,sticker:e,wzuId:u},o);case 11:se(t.sent)||nn(a(),f,n,G.Error),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),nn(a(),f,n,G.Error);case 19:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e,n,a){return t.apply(this,arguments)}}()},Zt=function(){return{type:V}},Wt=function(e,t){return function(){var n=Object(d.a)(Object(l.a)().mark((function n(a,r,c){var s,o,i,u,d,f,p,g;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=r(),o=s.messaging,i=Date.now(),t=t||o.replyingMsg,n.prev=3,u=!1,!t){n.next=10;break}return n.next=8,Gt(e,t,i,a,r,c);case 8:d=n.sent,u=!0;case 10:if(f=Ye(e),u||!f){n.next=16;break}return n.next=14,Ht(e,f,i,a,r,c);case 14:d=n.sent,u=!0;case 16:if(u){n.next=26;break}p=Qe(e),g=0;case 19:if(!(g<p.length)){n.next=26;break}return n.next=22,Jt(p[g],i+g,a,r,c);case 22:d=n.sent;case 23:g++,n.next=19;break;case 26:oe(d)||nn(r(),i,a,G.Error),n.next=33;break;case 29:n.prev=29,n.t0=n.catch(3),nn(r(),i,a,G.Error);case 33:case"end":return n.stop()}}),n,null,[[3,29]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Gt=function(e,t,n,a,r,c){var s=c.zchatService,o=r(),i=o.session,u=o.messaging,l=i.service_map,d=i.zoaw_enk,f=i.encrWzuId,g=i.conversationId,b=t||u.replyingMsg;if(!b)throw new Error("replying msg is nill");if(null===b||void 0===b||!b.msgId)throw new Error("msgId is nill");if(!g)throw new Error("replying msg is nill");var h,m,j="";switch(b.msgType){case we.Text:j=b.content;break;case we.Photo:var v=b.content;j="H\xecnh \u1ea3nh",h=JSON.stringify(Object(p.a)(Object(p.a)({},v),{},{parsedParams:void 0,thumbUrl:v.thumb,oriUrl:v.href,normalUrl:v.href,thumb:v.thumb}));break;case we.Video:var _=b.content;j="Video",h=JSON.stringify(Object(p.a)(Object(p.a)({},_),{},{parsedParams:void 0,thumbUrl:_.thumb,oriUrl:_.href,normalUrl:_.href,thumb:_.thumb}));break;case we.Sticker:var w=b.content;h=JSON.stringify(w);break;case we.File:var O=b.content;h=JSON.stringify(O);break;case we.Chat_Recommeneded:var y=b.content;h=JSON.stringify(y)}return b.zaMsgInfo&&(m={ownerId:"0"!==b.srcId?b.zaMsgInfo.srcId:b.zaMsgInfo.destId,globalMsgId:b.zaMsgInfo.msgId,cliMsgType:b.zaMsgInfo.msgType}),an({cliMsgId:n.toString(),msgType:we.Text,srcId:"0",destId:g,content:e,quote:{ownerId:b.srcId,cliMsgId:b.cliMsgId,globalMsgId:"0",cliMsgType:b.msgType,message:j,parsedAttach:b.msgType!==we.Text?b.content:void 0,zaQuoteInfo:m,quotedMessage:b}},a,r),a(Zt()),s.sendQuoteMessage(l.message,{toId:g,clientId:n,message:e,qmsgOwner:b.srcId,qmsgId:b.msgId,qmsgCliId:b.cliMsgId,qmsg:j,qmsgType:b.msgType,qmsgAttach:h,qmsgTs:b.ts,qzaQuoteInfo:m,wzuId:f},d)},Ht=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a,r,c,s){var o,i,u,d,f,p,g,b,h;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c(),i=o.session,u=i.service_map,d=i.conversationId,f=i.encrWzuId,p=s.zchatService,g=s.zwidgetService,d){e.next=5;break}throw new Error("conversationId is nill");case 5:return e.next=7,g.parseLink(n);case 7:if(se(b=e.sent)){e.next=12;break}return e.next=11,Jt(t,a,r,c,s);case 11:case 16:return e.abrupt("return",e.sent);case 12:return h=b.data,an({cliMsgId:a.toString(),msgType:we.Chat_Recommeneded,srcId:"0",destId:d,content:{action:Oe.Link,description:h.desc,href:h.href,thumb:h.thumb,title:t,parsedParams:{mediaTitle:h.title,src:h.href,type:h.type}}},r,c),e.next=16,p.sendLinkMessage({toId:d,clientId:a,msg:t,href:h.href,src:n,title:h.title,desc:h.desc,thumb:h.thumb,type:je.Default,media:JSON.stringify(b.data.media),wzuId:f},u.message,i.zoaw_enk);case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a,r,c){var s,o,i,u,d,f,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.zchatService,o=r(),i=o.session,u=i.service_map,d=i.conversationId,f=i.zoaw_enk,p=i.encrWzuId,!(u.message.length<=0)){e.next=5;break}throw new Error("service_map.message is empty!");case 5:if(d){e.next=7;break}throw new Error("conversation is nil");case 7:return an({cliMsgId:n.toString(),msgType:we.Text,srcId:"0",destId:d,content:t},a,r),e.next=10,s.sendTextMessage(u.message,{toId:d,clientId:n,message:t,wzuId:p},f);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a,r,c){var s,o,i,u,d,f,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.zchatService,o=r(),i=o.session,u=i.service_map,d=i.conversationId,f=i.zoaw_enk,p=i.encrWzuId,!(u.message.length<=0)){e.next=5;break}throw new Error("service_map.message is empty!");case 5:if(d){e.next=7;break}throw new Error("conversation is nil");case 7:return an({cliMsgId:n.toString(),msgType:we.Text,srcId:"0",destId:d,content:t},a,r),e.next=10,s.sendTextMessage(u.message,{toId:d,clientId:n,message:t,wzuId:p},f);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Yt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(d.a)(Object(l.a)().mark((function n(a,r,c){var s,o,u,d,f,g,b,h,m,j,v,_,w,O,y,k,x;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=r().messaging,d=null===(s=r().app.oaInfo)||void 0===s?void 0:s.name,f=null===(o=r().app.oaInfo)||void 0===o?void 0:o.id,g=u.messages,b=u.messagesInfo,h=u.myLastMsgId,m=u.newMsgCount,0===g.length&&(g.unshift({cliMsgId:"".concat(Date.now()),content:"Xin ch\xe0o! ".concat(d," r\u1ea5t vui \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1ea1n."),destId:"0",msgId:"-9999",msgType:1,srcId:"".concat(f),ts:"0",ttl:0}),b[g[0].cliMsgId]={index:0,state:0}),j=e.messages.reverse(),v=m,_=r().app.shouldShowBox,t&&(l=j[0],!_t.getState().messaging.messagesInfo[l.cliMsgId])&&!kt(j[0])&&!_&&(v=m+1),w=Object(ce.a)(j);try{for(w.s();!(O=w.n()).done;)y=O.value,$t(y),en(y),(k=b[y.cliMsgId])?(g[k.index]=y,b[y.cliMsgId]=Object(p.a)(Object(p.a)({},k),{},{state:G.Sent})):(g.push(y),b[y.cliMsgId]={index:g.length-1,state:G.Sent}),tn(y,a),kt(y)&&(h=y.cliMsgId)}catch(I){w.e(I)}finally{w.f()}(x=e.lastReceivedMessageId)&&(b[x]=Object(p.a)(Object(p.a)({},b[x]),{},{state:G.Delivered})),Object(i.b)((function(){a(rn({messages:g,messagesInfo:b,myLastMsgId:h})),a(sn(v))})),Xt(a,r,c),u.typing.onGoing&&u.typing.cancelId&&(clearTimeout(u.typing.cancelId),a(Ct({cancelId:null,onGoing:!1})));case 17:case"end":return n.stop()}var l}),n)})));return function(e,t,a){return n.apply(this,arguments)}}()},Xt=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n().messaging.messages.forEach((function(e){return Qt(e,t,n,a)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a,r){var c,s,o,i,u,d,p,g,b,h;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.msgType===we.Text){e.next=2;break}return e.abrupt("return");case 2:if(c=Ye(t.content)){e.next=5;break}return e.abrupt("return");case 5:return s=r.zwidgetService,e.next=8,s.parseLink(c);case 8:if(se(o=e.sent)){e.next=11;break}return e.abrupt("return");case 11:i=a().session.conversationId,u=a().messaging,d=u.messages,p=u.messagesInfo,g=u.myLastMsgId,b=Nt((null===i||void 0===i?void 0:i.toString())||"","0",t,o.data),(h=p[t.cliMsgId])&&(d[h.index]=b,n(rn({messages:Object(f.a)(d),messagesInfo:p,myLastMsgId:g})));case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$t=function(e){var t=e.msgType;try{switch(t){case we.Photo:case we.Video:case we.Chat_Recommeneded:case we.File:e.content.parsedParams=JSON.parse(e.content.params);break;default:e.content.params&&(e.content.parsedParams=JSON.parse(e.content.params))}}catch(n){}},en=function(e){var t;null!==(t=e.quote)&&void 0!==t&&t.attach&&(e.quote.parsedAttach=JSON.parse(e.quote.attach))},tn=function(e,t){var n;if(e.msgType===we.Sticker){var a=e.content.catId;t(fe(a))}if((null===(n=e.quote)||void 0===n?void 0:n.cliMsgType)===we.Sticker){var r,c=(null===(r=e.quote)||void 0===r?void 0:r.parsedAttach).catId;t(fe(c))}},nn=function(e,t,n,a){var r=e.messaging,c=r.messages,s=r.messagesInfo;s[t]=Object(p.a)(Object(p.a)({},s[t]),{},{state:a}),n(rn({messages:Object(f.a)(c),messagesInfo:s}))},an=function(e,t,n){var a=n().messaging,r=a.messages,c=a.messagesInfo;c[e.cliMsgId]={index:r.length,state:G.Sending},setTimeout((function(){c[e.cliMsgId].state===G.Sending&&nn(n(),Number.parseInt(e.cliMsgId),t,G.Error)}),M.sendDuration),t(rn({messages:[].concat(Object(f.a)(r),[e]),messagesInfo:c}))},rn=function(e){return{type:q,payload:e}},cn=function(e){return{type:Z,payload:e}},sn=function(e){return{type:W,payload:e}},on=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t(cn(A.Loading)),t(rn({messages:[],messagesInfo:{},myLastMsgId:""})),t(Zt())})),e.abrupt("return",ae.Success);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},un=function(e,t,n,a){return{type:P,payload:{status:e,oaInfo:n,appInfo:t,zuserInfo:a}}},ln=function(e){return{type:E,payload:e}},dn=function(e){return{type:T,payload:e}},fn=function(e){return{type:D,payload:e}},pn=function(e){return{type:Q,payload:e}},gn=function(e,t){return{type:te,payload:{connectionState:e,pingIntervalId:t}}},bn=function(e,t){var n=function(e){return JSON.parse((new TextDecoder).decode(new Uint8Array(e,4)))}(e);switch(t||(t=n.key),n.encrypt){case ve.Zip:n.data=Object(Se.e)(n.data);break;case ve.GZIP_AES128_GCM:var a=Object(Se.b)(n.data,t);n.data=Object(Se.f)(a)}return n},hn=function(){return{type:at,payload:void 0}},mn=function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n){var a,r,c,s,o,i;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.total,r=[],c=(c=e.messages).reverse(),s=Object(ce.a)(c);try{for(s.s();!(o=s.n()).done;)i=o.value,jn(i),vn(i),r.push(i)}catch(u){s.e(u)}finally{s.f()}n({type:nt,payload:{messages:r,total:a}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},jn=function(e){var t=e.msgType;try{switch(t){case we.Photo:case we.Video:case we.Chat_Recommeneded:case we.File:e.content.parsedParams=JSON.parse(e.content.params);break;default:e.content.params&&(e.content.parsedParams=JSON.parse(e.content.params))}}catch(n){}},vn=function(e){var t;null!==(t=e.quote)&&void 0!==t&&t.attach&&(e.quote.parsedAttach=JSON.parse(e.quote.attach))},_n=function(e){return{type:R,payload:e}},wn=function(e){return{type:U,payload:e}},On=function(){return{type:L}},yn=function(e){return e[e.CLOSE_CONVERSATION=1]="CLOSE_CONVERSATION",e[e.OPEN_CONVERSATION=2]="OPEN_CONVERSATION",e[e.UPGRADE_CONVERSATION=3]="UPGRADE_CONVERSATION",e}({}),kn=Object(he.a)((function e(){Object(be.a)(this,e),this.postMessage=function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){var n,a,r,c,s,o,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_t.getState().session,a=n.service_map,r=n.conversationId,c=n.encrWzuId,s=n.zoaw_enk,r){e.next=3;break}throw new Error("conversationId is nill");case 3:try{o={type:t,payload:{oaIdPublic:_t.getState().app.oaIdPublic,tabId:_t.getState().app.tabId}},i=JSON.stringify(o),Fe.sendControl(a.message,{toId:r,data:i,wzuId:c},s)}catch(u){}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handle=function(e,t){var n,a=JSON.parse(e.ctrlMsg);if((null===(n=a.payload)||void 0===n?void 0:n.tabId)!==t.getState().app.tabId){var r=t.dispatch;switch(a.type){case yn.CLOSE_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&Object(i.b)((function(){r(On()),r(hn()),r(on())}));break;case yn.OPEN_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&r(Vn());break;case yn.UPGRADE_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&r(Vn())}}}})),xn=new kn,In=(jt={},Object(Me.a)(jt,_e.Receive_Message,(function(e,t){se(e)&&t.dispatch(Yt({messages:[e.data],total:1}))})),Object(Me.a)(jt,_e.Typing_Message,(function(e,t){se(e)&&t.dispatch(function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n){var a,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n().messaging.typing.cancelId)&&clearTimeout(a),r=setTimeout((function(){t(Ct({onGoing:!1,cancelId:null}))}),M.showTypingDuration),t(Ct({onGoing:!0,cancelId:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),Object(Me.a)(jt,_e.Delivered_Message,(function(e,t){se(e)&&t.dispatch(function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n){var a,r,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().messaging,r=a.messages,c=a.messagesInfo,Object.keys(c).forEach((function(e){var t=c[e];c[e]=Object(p.a)(Object(p.a)({},t),{},{state:G.Delivered})})),t(rn({messages:r,messagesInfo:c}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),Object(Me.a)(jt,_e.Seen_Message,(function(e,t){se(e)})),Object(Me.a)(jt,_e.Load_Thread_Chat,(function(e,t){var n;t.dispatch((n=e.data,function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(cn(A.Done)),t(Yt(n,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),Object(Me.a)(jt,_e.Pull_Offline_Message,(function(e,t){})),Object(Me.a)(jt,_e.Control,(function(e,t){xn.handle(e.data,t)})),Object(Me.a)(jt,_e.Load_History_Chat,(function(e,t){var n;t.dispatch((n=e.data,function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(mn(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),jt),Sn=0,Nn=0,zn=2e3,Cn=function(e){return{type:X,promise:e}},Mn=function(){return Cn((function(e,t){var n=Te(t.getState().session.service_map.web_socket);return e.connect(n)}))},En=function(){return Cn((function(e,t){return e.onmessage((function(e){var n=new FileReader;n.readAsArrayBuffer(e.data),n.onload=function(e){var a,r=n.result,c=new DataView(r),s=(c.getUint8(0),c.getUint16(1,!0));switch(s){case _e.Ping:break;case _e.Authentication:var o=bn(r);t.dispatch((a=o.key,{type:ee,payload:a})),t.dispatch(Un());break;case _e.Create_Connection:t.dispatch(Ln());break;default:var i=function(e){try{return JSON.parse(e)}catch(t){return JSON.parse("{}")}}(bn(r,t.getState().zwebsocket.zws_key).data);if(!se(i))break;var u=In[s];u&&se(i)&&u(i,t)}}}))}))},Tn=function(){return Cn((function(e,t){return e.onclose((function(e){var n=t.getState().zwebsocket.pingIntervalId;n&&clearInterval(n),Sn<Nn?(++Sn,t.dispatch(pn(ne.Connecting)),setTimeout((function(){return t.dispatch(Mn())}),zn)):t.dispatch(pn(ne.Closed))}))}))},Dn=function(){return Cn((function(e,t){return e.onerror((function(e){}))}))},Pn=function(){return Cn((function(e){return e.onopen((function(e){}))}))},An=function(e){return Cn((function(t,n){return n.getState().zwebsocket.connectionState!==ne.Connected?Promise.reject("Not authenticated, cannot send message"):t.send(e).catch((function(e){}))}))},Rn=function(e,t){var n=ke.createLoadThreadChat({conversationId:t,lastMsgId:"0"});e(An(n));var a=ke.createPullOfflineMessage({conversationId:t,lastMsgId:"0"});return e(An(a)),ae.Success},Un=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n){var a,r,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ke.createPingMessage(),r=setInterval((function(){t(An(a))}),M.pingInterval),t(gn(ne.Connected,r)),c=ke.createConnection({oaId:n().app.oaIdPublic}),t(An(c)),e.abrupt("return",ae.Success);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ln=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n){var a,r,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(a=n().app.oaInfo)||void 0===a?void 0:a.id,c=n().session.encrWzuId,r){e.next=4;break}throw new Error("conversationId is empty!");case 4:return s="".concat(r,"_").concat(c),Rn(t,s),e.abrupt("return",ae.Success);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},qn=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t(Mn()),t(Pn()),t(Tn()),t(Dn()),t(En())})),e.abrupt("return",ae.Success);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me.Anonymous;return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,u,d,f,g;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.zchatService,s=r.zwidgetService,t.prev=1,n(wn(A.Loading)),o=a().app.oaIdPublic,t.next=6,Ne(e);case 6:return u=t.sent,t.next=9,c.getSessionInfo(e,u,o);case 9:if(se(d=t.sent)){t.next=14;break}return n(wn(A.Failed)),t.abrupt("return",ae.Failed);case 14:return t.next=16,s.getWidgetOAInfo(o);case 16:if(se(f=t.sent)){t.next=21;break}return n(wn(A.Failed)),t.abrupt("return",ae.Failed);case 21:if(g=null,e!==me.Zalo){t.next=27;break}return t.next=25,s.getZUserInfo();case 25:se(g=t.sent);case 27:return Object(i.b)((function(){n(_n(Object(p.a)(Object(p.a)({},a().session),{},{status:A.Done,service_map:d.data.service_map,conversationId:f.data.id,zoaw_enk:d.data.zoaw_enk,globalId:d.data.global_id,encrWzuId:d.data.wzu_id||"",conversationType:e,zconv_id:d.data.zconv_id||""}))),n(dn(f.data)),n(qn()),n(de()),g&&se(g)&&n(ln(g.data))})),xn.postMessage(yn.OPEN_CONVERSATION),t.abrupt("return",ae.Success);case 32:return t.prev=32,t.t0=t.catch(1),n(wn(A.Failed)),t.abrupt("return",ae.Exception);case 37:case"end":return t.stop()}}),t,null,[[1,32]])})));return function(e,n,a){return t.apply(this,arguments)}}()},Bn=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){var r,c,s,o,u,f,g;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zwidgetService,c=a.zchatService,e.prev=1,s=ZA.getVisitorID(),o=n().app.oaIdPublic,e.next=6,c.upgradeSessionInfo(o,s);case 6:if(se(u=e.sent)){e.next=10;break}return e.abrupt("return",ae.Failed);case 10:if(f=null,n().app.zuserInfo){e.next=17;break}return e.next=15,r.getZUserInfo();case 15:se(f=e.sent);case 17:return e.next=19,r.getWidgetOAInfo(o);case 19:return se(g=e.sent),Object(i.b)((function(){t(_n(Object(p.a)(Object(p.a)({},n().session),{},{status:A.Done,conversationId:u.data.oa.id,service_map:u.data.session.service_map,zoaw_enk:u.data.session.zoaw_enk,globalId:u.data.session.global_id,encrWzuId:u.data.wzu_id||"",conversationType:me.Zalo,zconv_id:u.data.zconv_id||""}))),t(dn(u.data.oa)),t(function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t(Mn()),t(Pn()),t(Tn()),t(Dn()),t(En())})),e.abrupt("return",ae.Success);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(on()),f&&se(f)&&t(ln(f.data)),g&&se(g)&&t(dn(g.data))})),xn.postMessage(yn.UPGRADE_CONVERSATION),e.abrupt("return",ae.Success);case 26:return e.prev=26,e.t0=e.catch(1),e.abrupt("return",ae.Exception);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Vn=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){var r,c,s,o,u,d,f,g,b,h,m;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zchatService,c=a.zwidgetService,e.prev=1,s=n().app.oaIdPublic,o=n().session.conversationType,u=o!==me.Unknown?o:me.Anonymous,e.next=7,Ne(u);case 7:return d=e.sent,e.next=10,r.loginTab(d,s);case 10:if(se(f=e.sent)){e.next=15;break}return t(wn(A.Failed)),e.abrupt("return",ae.Failed);case 15:return g=c.getWidgetOAInfo(s),b=c.getZUserInfo(),e.next=19,g;case 19:if(se(h=e.sent)){e.next=24;break}return t(wn(A.Failed)),e.abrupt("return",ae.Failed);case 24:return e.next=26,b;case 26:return se(m=e.sent),Object(i.b)((function(){t(_n(Object(p.a)(Object(p.a)({},n().session),{},{status:A.Done,service_map:f.data.service_map,conversationId:h.data.id,zoaw_enk:f.data.zoaw_enk,globalId:f.data.global_id,encrWzuId:f.data.wzu_id||"",conversationType:f.data.c_type||me.Unknown,zconv_id:f.data.zconv_id||""}))),t(dn(h.data)),t(de()),t(ln(m.data)),t(qn())})),e.abrupt("return",ae.Success);case 32:return e.prev=32,e.t0=e.catch(1),t(wn(A.Failed)),e.abrupt("return",ae.Exception);case 37:case"end":return e.stop()}}),e,null,[[1,32]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Zn=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){var r,c,s,o,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zchatService,e.prev=1,c=n().app.oaIdPublic,s=n().session.conversationType,o=s!==me.Unknown?s:me.Anonymous,e.next=8,Ne(o);case 8:return u=e.sent,e.next=11,r.closeSession(c,u);case 11:if(se(e.sent)){e.next=15;break}return e.abrupt("return",ae.Failed);case 15:return Object(i.b)((function(){t(On()),t(hn()),t(on())})),xn.postMessage(yn.CLOSE_CONVERSATION),e.abrupt("return",ae.Success);case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",ae.Exception);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Wn=function(){return function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){var r,c,s,o,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zwidgetService,e.prev=1,c=n().app,s=c.oaIdPublic,o=c.oaInfo,e.next=5,r.followOA(s);case 5:if(se(i=e.sent)){e.next=9;break}return e.abrupt("return",ae.Failed);case 9:return t(dn(Object(p.a)(Object(p.a)({},o),{},{isFollow:i.data.ret}))),e.abrupt("return",ae.Success);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",ae.Exception);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Gn=new(Object(he.a)((function e(){var t=this;Object(be.a)(this,e),this.getZaloMeLink=function(){var e=_t.getState().app.oaIdPublic;return e?M.zaloMeDomain.replace("{oaId}",e):"https://chat.zalo.me/"},this.getZaloWebLink=function(){var e=_t.getState().session.zconv_id;return e&&"0"!==e?M.zaloWebDomain.replace("{convId}",e):""},this.getZaloPcLink=function(){var e=_t.getState().app.oaIdPublic;return M.zaloPcDomain.replace("{convId}",e)},this.openZaloWeb=function(e){window.fetch("https://chat.zalo.me/jr/userinfo",{credentials:"include"}).then((function(e){return e.json()})).then((function(n){var a=n.error_code,r=n.data.logged;if(0===a&&r){var c,s=t.getZaloWebLink();null===(c=window.open(s,"_blank"))||void 0===c||c.focus(),e&&e()}else t.openZaloPc(),e&&e()})).catch((function(){t.openZaloPc(),e&&e()}))},this.openZaloPc=function(){var e=t.getZaloPcLink();window.ZaloPC.open(e,(function(e){"unsupport"===e?t.openZaloWeb():t.logZaloPc("PC")}))},this.logZaloPc=function(e){var t=_t.getState().app.oaIdPublic;Fe.sendLogChatPc(e,t)},this.logLoadWidget=function(){var e=_t.getState().app.oaIdPublic;Fe.sendLog("7",e)},this.logOpenWidget=function(){var e=_t.getState().app.oaIdPublic;Fe.sendLog("8",e)}}))),Hn=function(e){return!(!e.oaid||0===e.oaid.length)},Jn=Object(he.a)((function e(t){var n=this;Object(be.a)(this,e),this.publicOaId=void 0,this.log=function(e,t){new Promise((function(){t?window.ztr("track",e,t):window.ztr("track",e)}))},this.logLoginAnonymous=function(){n.log("LoginAnonymous",{oaId:n.publicOaId})},this.logLogin=function(){n.log("LoginAnonymous",{oaId:n.publicOaId})},this.logOpenChatHead=function(){n.log("OpenChatHead",{oaId:n.publicOaId})},this.logCloseChatHead=function(){n.log("CloseChatHead",{oaId:n.publicOaId})},this.logStartThreadChat=function(){n.log("StartThreadChat",{oaId:n.publicOaId})},this.logEndThreadChat=function(){n.log("EndThreadChat",{oaId:n.publicOaId})},this.logMuteChat=function(){n.log("MuteChat",{oaId:n.publicOaId})},this.logSendMessage=function(){n.log("SendMessage",{oaId:n.publicOaId})},this.logReceiveMessage=function(){n.log("ReceiveMessage",{oaId:n.publicOaId})},this.publicOaId=t})),Kn=window.location.search,Yn=new URLSearchParams(Kn).get("oaid"),Xn=new Jn(Yn||""),Qn=n(291),$n=["image/jpeg","image/png","image/jpg","image/gif"],ea=["video/mp4"],ta=function(e){return $n.some((function(t){return e.includes(t)}))},na=function(e){return ea.some((function(t){return e.includes(t)}))},aa=n(0),ra=function(e){var t=e.open,n=void 0!==t&&t,a=e.onClose,r=Object(Qn.a)().t,c=Object(i.d)(),s=Ft,o=Bt,u=qt,l=ta,d=na;return Object(aa.jsx)(aa.Fragment,{children:n&&Object(aa.jsx)("div",{className:"drag-drop-zone",onDragLeave:a,onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files,n=t.length;if(t&&0!==n){for(var r=function(){var e=t[i];l(e.type)?setTimeout((function(){return c(s(e,""))}),250*i):d(e.type)?setTimeout((function(){return c(o(e,""))}),250*i):setTimeout((function(){return c(u(e))}),250*i)},i=0;i<n;i++)r();null===a||void 0===a||a()}},children:r("dragdropzone.drop")})})},ca=function(e){var t=e.loginURL,n=e.width,a=e.height,r=e.title,c=window.screen.width/2-250+(window.screenLeft?window.screenLeft:window.screenX?window.screenX:0),s=window.screen.height/2-350+(window.screenTop?window.screenTop:window.screenY?window.screenY:0);return window.open(t,r,"height="+a+",width="+n+",left="+c+",top="+s)},sa=function(e){var t=e.imgSrc,n=e.isActivated;return t?Object(aa.jsxs)("figure",{className:"image avatar avatar--oa",children:[Object(aa.jsx)("img",{src:t,alt:""}),n&&Object(aa.jsx)("div",{className:"oa-active"})]}):null},oa=n(153),ia=function(e){var t=e.title,n=e.desc;return Object(aa.jsxs)("div",{className:"oa-info",children:[Object(aa.jsx)("p",{"data-tip":!0,"data-for":"titleTip",className:"oa-name has-one-line wb-break-all",children:t}),!!n&&Object(aa.jsx)("p",{children:n}),Object(aa.jsx)(oa.a,{id:"titleTip",place:"top",effect:"solid",children:t})]})},ua=function(e){var t=e.iconName,n=e.falName,a=e.isCircle,r=e.handleClick;return t?a?Object(aa.jsx)("div",{className:"circle-icon button",onClick:r,children:Object(aa.jsx)("i",{className:"icon ".concat(t),style:{color:"white"}})}):Object(aa.jsx)("i",{className:"icon ".concat(t),onClick:r}):a?Object(aa.jsx)("div",{className:"circle-icon button",onClick:r,children:Object(aa.jsx)("i",{className:"fal ".concat(n),style:{color:"white"}})}):Object(aa.jsx)("i",{className:"fal ".concat(n),onClick:r})},la=Object(i.c)((function(e){return{app:e.app,session:e.session}}),(function(e){return{updateShowBox:function(t){return e(fn(t))}}})),da=function(e){var t=e.imgSrc,n=Object(Qn.a)().t;return Object(aa.jsxs)("div",{className:"box__welcome",children:[Object(aa.jsx)("h1",{children:n("chatheader.hello")}),Object(aa.jsx)("h3",{children:n("chatheader.welcome")}),t&&Object(aa.jsx)("div",{className:"avatar--user",children:Object(aa.jsx)("figure",{className:"image avatar",children:Object(aa.jsx)("img",{src:t,alt:""})})})]})},fa=la((function(e){var t,n,a,s=e.updateShowBox,o=e.showMessageView,i=e.closeConversation,l=(e.upgradeUser,e.app),d=e.session,f=Object(r.useState)(!0),p=Object(u.a)(f,2),g=p[0],b=p[1];c.a.useEffect((function(){var e=function(){b(!0)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]);var h=Object(Qn.a)().t,m=l.status===A.Done&&d.conversationType===me.Zalo,j=l.status===A.Done,v=l.status===A.Done&&d.conversationType!==me.Unknown,_=d.conversationType===me.Anonymous?"/static/images/ava-anonymous.png":null===(t=l.zuserInfo)||void 0===t?void 0:t.avatar,w=l.status===A.Done&&d.conversationType!==me.Unknown,O="https://developers.zalo.me/docs/social/zalo-chat-widget",y=Gn.getZaloWebLink(),k=Object(aa.jsx)("a",{className:"option-popup button",href:O,target:"tab",children:h("chatheader.setupwidget")}),x=Object(aa.jsxs)(r.Fragment,{children:[m&&Object(aa.jsx)("a",{className:"option-popup button",href:y,rel:"noreferrer",target:"_blank",children:h("chatheader.chatpc")}),!1,Object(aa.jsx)("a",{className:"option-popup button",href:O,rel:"noreferrer",target:"_blank",children:h("chatheader.setupwidget")}),j&&Object(aa.jsx)("a",{className:"option-popup button text-warning",onClick:i,children:h("chatheader.end")})]});return Object(aa.jsxs)("div",{className:"box__top",children:[Object(aa.jsxs)("div",{className:"box__header media justify-between items-center",children:[Object(aa.jsxs)("div",{className:"media-left is-flex items-center overflow-init",children:[Object(aa.jsx)(sa,{imgSrc:(null===(n=l.oaInfo)||void 0===n?void 0:n.avatar)||"",isActivated:!0}),Object(aa.jsx)(ia,{title:(null===(a=l.oaInfo)||void 0===a?void 0:a.name)||""})]}),Object(aa.jsxs)("div",{className:"media-right",children:[Object(aa.jsxs)("span",{className:"circle-icon dropdown button",onClick:function(e){e.stopPropagation(),b((function(e){return!e}))},children:[Object(aa.jsx)("i",{className:"far fa-ellipsis-h",style:{color:"white"}}),Object(aa.jsxs)("div",{className:"dropdown-content ".concat(g&&"is-hidden"),children:[Object(aa.jsx)("div",{className:"triangle"}),w?x:k]})]}),Object(aa.jsx)(ua,{isCircle:!0,falName:"fa-chevron-down",handleClick:function(){var e,t;e=window.zsp_min_width,t=window.zsp_min_height,window.onChangeSizeIframe(e,t),s(!1),Xn.logCloseChatHead()}})]})]}),!o&&Object(aa.jsx)(da,{imgSrc:v&&_||""})]})})),pa=(n(283),function(e){var t=e.keyword,n=e.position,a=e.className;return Object(aa.jsx)("span",{className:a,style:{background:"url(".concat("static/images/emoji.png",") ").concat(n," / 5100%  no-repeat"),width:45,height:45,display:"inline-block"},"data-keyword":t})}),ga={":)":"82.00% 17.50%",":~":"84.00% 37.50%",":b":"82.00% 30.00%",":')":"82.00% 05.00%","8-)":"82.00% 45.00%",":-((":"84.00% 02.50%",":$":"82.00% 20.00%",":3":"82.00% 37.50%",":z":"84.00% 50.00%",":((":"82.00% 95.00%","&-(":"84.00% 35.00%",":-h":"84.00% 05.00%",":p":"82.00% 40.00%",":d":"82.00% 00.00%",":o":"84.00% 20.00%",":(":"82.00% 85.00%",";-)":"82.00% 50.00%","--b":"84.00% 30.00%",":))":"82.00% 10.00%",":-*":"82.00% 32.50%",";p":"82.00% 22.50%",";-d":"82.00% 27.50%","/-showlove":"82.00% 25.00%",";d":"82.00% 60.00%",";o":"82.00% 87.50%",";g":"82.00% 42.50%","|-)":"84.00% 45.00%",":!":"84.00% 00.00%",":l":"82.00% 70.00%",":>":"82.00% 07.50%",":;":"82.00% 47.50%",";f":"82.00% 57.50%",":v":"82.00% 55.00%",":wipe":"84.00% 32.50%",":-dig":"82.00% 80.00%",":handclap":"82.00% 77.50%","b-)":"82.00% 02.50%",":-r":"82.00% 72.50%",":-<":"82.00% 65.00%",":-o":"84.00% 47.50%",";-s":"84.00% 07.50%",";?":"84.00% 17.50%",";-x":"82.00% 75.00%",":-f":"84.00% 40.00%","8*)":"84.00% 25.00%",";!":"82.00% 100.00%",";-!":"84.00% 52.50%",";xx":"84.00% 12.50%",":-bye":"82.00% 12.50%",">-|":"82.00% 82.50%","p-(":"82.00% 90.00%",":--|":"82.00% 92.50%",":q":"84.00% 10.00%","x-)":"82.00% 52.50%",":*":"82.00% 35.00%",";-a":"84.00% 22.50%","8*":"82.00% 97.50%",":|":"82.00% 67.50%",":x":"84.00% 27.50%",":t":"84.00% 42.50%",";-/":"84.00% 15.00%",":-l":"82.00% 62.50%","$-)":"82.00% 15.00%","/-beer":"84.00% 55.00%","/-coffee":"84.00% 57.50%","/-rose":"84.00% 60.00%","/-fade":"84.00% 62.50%","/-bd":"84.00% 65.00%","/-bome":"84.00% 67.50%","/-cake":"84.00% 70.00%","/-heart":"84.00% 72.50%","/-break":"84.00% 75.00%","/-shit":"84.00% 77.50%","/-li":"84.00% 80.00%","/-flag":"86.00% 07.50%","/-strong":"84.00% 82.50%","/-weak":"84.00% 85.00%","/-ok":"84.00% 87.50%","/-v":"84.00% 90.00%","/-thanks":"84.00% 92.50%","/-punch":"84.00% 95.00%","/-share":"84.00% 97.50%","_()_":"84.00% 100.00%","/-no":"86.00% 00.00%","/-bad":"86.00% 02.50%","/-loveu":"86.00% 05.00%",":B":"82.00% 30.00%",":Z":"84.00% 50.00%",":-H":"84.00% 05.00%",":P":"82.00% 40.00%",":D":"82.00% 00.00%",":O":"84.00% 20.00%","--B":"84.00% 30.00%",";P":"82.00% 22.50%",";-D":"82.00% 27.50%",";D":"82.00% 60.00%","/-SHOWLOVE":"82.00% 25.00%",";O":"82.00% 87.50%",";G":"82.00% 42.50%",":L":"82.00% 70.00%",";F":"82.00% 57.50%",":V":"82.00% 55.00%",":WIPE":"84.00% 32.50%",":-DIG":"82.00% 80.00%",":HANCLAP":"82.00% 77.50%","B-)":"82.00% 02.50%",":-R":"82.00% 72.50%",":-O":"84.00% 47.50%",";-S":"84.00% 07.50%",";-X":"82.00% 75.00%",":-F":"84.00% 40.00%",";XX":"84.00% 12.50%",":-BYE":"82.00% 12.50%","P-(":"82.00% 90.00%",":Q":"84.00% 10.00%","X-)":"82.00% 52.50%",";-A":"84.00% 22.50%",":X":"84.00% 27.50%",":T":"84.00% 42.50%",":-L":"82.00% 62.50%","/-BEER":"84.00% 55.00%","/-COFFEE":"84.00% 57.50%","/-ROSE":"84.00% 60.00%","/-FADE":"84.00% 62.50%","/-BD":"84.00% 65.00%","/-BOME":"84.00% 67.50%","/-CAKE":"84.00% 70.00%","/-HEART":"84.00% 72.50%","/-BREAK":"84.00% 75.00%","/-SHIT":"84.00% 77.50%","/-LI":"84.00% 80.00%","/-FLAG":"86.00% 07.50%","/-STRONG":"84.00% 82.50%","/-WEAK":"84.00% 85.00%","/-OK":"84.00% 87.50%","/-V":"84.00% 90.00%","/-THANKS":"84.00% 92.50%","/-PUNCH":"84.00% 95.00%","/-SHARE":"84.00% 97.50%","/-NO":"86.00% 00.00%","/-BAD":"86.00% 02.50%","/-LOVEU":"86.00% 05.00%",";8":"84.00% 10.00%",":-|":"86.00% 10.00%",":+":"86.00% 12.50%",":grinning:":"52.00% 50.00%",":grimacing:":"54.00% 57.50%",":grin:":"52.00% 52.50%",":joy:":"52.00% 55.00%",":smiley:":"52.00% 57.50%",":smile:":"52.00% 60.00%",":sweat_smile:":"52.00% 62.50%",":laughing:":"52.00% 65.00%",":innocent:":"52.00% 67.50%",":wink:":"52.00% 72.50%",":blush:":"52.00% 75.00%",":slightly_smiling_face:":"56.00% 10.00%",":upside_down_face:":"56.00% 12.50%",":relaxed:":"02.00% 62.50%",":yum:":"52.00% 77.50%",":relieved:":"52.00% 80.00%",":heart_eyes:":"52.00% 82.50%",":kissing_heart:":"54.00% 07.50%",":kissing:":"54.00% 05.00%",":kissing_smiling_eyes:":"54.00% 10.00%",":kissing_closed_eyes:":"54.00% 12.50%",":stuck_out_tongue_winking_eye:":"54.00% 17.50%",":stuck_out_tongue_closed_eyes:":"54.00% 20.00%",":stuck_out_tongue:":"54.00% 15.00%",":money_mouth_face:":"64.00% 17.50%",":nerd_face:":"64.00% 22.50%",":sunglasses:":"52.00% 85.00%",":hugging_face:":"64.00% 32.50%",":smirk:":"52.00% 87.50%",":no_mouth:":"54.00% 82.50%",":neutral_face:":"52.00% 90.00%",":expressionless:":"52.00% 92.50%",":unamused:":"52.00% 95.00%",":face_with_rolling_eyes:":"56.00% 15.00%",":thinking_face:":"64.00% 25.00%",":flushed:":"54.00% 75.00%",":disappointed:":"54.00% 22.50%",":worried:":"54.00% 25.00%",":angry:":"54.00% 27.50%",":rage:":"54.00% 30.00%",":pensive:":"52.00% 100.00%",":confused:":"54.00% 00.00%",":slightly_frowning_face:":"56.00% 07.50%",":white_frowning_face:":"02.00% 60.00%",":persevere:":"54.00% 35.00%",":confounded:":"54.00% 02.50%",":tired_face:":"54.00% 55.00%",":weary:":"54.00% 50.00%",":triumph:":"54.00% 37.50%",":open_mouth:":"54.00% 62.50%",":scream:":"54.00% 70.00%",":fearful:":"54.00% 47.50%",":cold_sweat:":"54.00% 67.50%",":hushed:":"54.00% 65.00%",":frowning:":"54.00% 42.50%",":anguished:":"54.00% 45.00%",":cry:":"54.00% 32.50%",":disappointed_relieved:":"54.00% 40.00%",":sleepy:":"54.00% 52.50%",":sweat:":"52.00% 97.50%",":sob:":"54.00% 60.00%",":dizzy_face:":"54.00% 80.00%",":astonished:":"54.00% 72.50%",":zipper_mouth_face:":"64.00% 15.00%",":mask:":"54.00% 85.00%",":face_with_thermometer:":"64.00% 20.00%",":face_with_head_bandage:":"64.00% 27.50%",":sleeping:":"54.00% 77.50%",":zzz:":"40.00% 40.00%",":hankey:":"40.00% 52.50%",":smiling_imp:":"52.00% 70.00%",":imp:":"36.00% 77.50%",":japanese_ogre:":"36.00% 50.00%",":japanese_goblin:":"36.00% 52.50%",":skull:":"36.00% 80.00%",":ghost:":"36.00% 55.00%",":alien:":"36.00% 72.50%",":robot_face:":"64.00% 30.00%",":smiley_cat:":"54.00% 92.50%",":smile_cat:":"54.00% 87.50%",":joy_cat:":"54.00% 90.00%",":heart_eyes_cat:":"54.00% 95.00%",":smirk_cat:":"54.00% 97.50%",":kissing_cat:":"54.00% 100.00%",":scream_cat:":"56.00% 05.00%",":crying_cat_face:":"56.00% 02.50%",":pouting_cat:":"56.00% 00.00%",":raised_hands:":"56.00% 85.00%",":clap:":"30.00% 52.50%",":wave:":"28.00% 95.00%",":+1:":"30.00% 22.50%",":-1:":"30.00% 37.50%",":facepunch:":"28.00% 80.00%",":fist:":"06.00% 22.50%",":v:":"06.00% 52.50%",":ok_hand:":"30.00% 07.50%",":hand:":"06.00% 37.50%",":open_hands:":"30.00% 67.50%",":muscle:":"40.00% 55.00%",":pray:":"58.00% 27.50%",":point_up:":"02.00% 25.00%",":point_up_2:":"28.00% 20.00%",":point_down:":"28.00% 35.00%",":point_left:":"28.00% 50.00%",":point_right:":"28.00% 65.00%",":middle_finger:":"50.00% 60.00%",":raised_hand_with_fingers_splayed:":"50.00% 45.00%",":the_horns:":"64.00% 35.00%",":spock-hand:":"50.00% 75.00%",":writing_hand:":"06.00% 67.50%",":nail_care:":"38.00% 27.50%",":lips:":"28.00% 15.00%",":tongue:":"28.00% 17.50%",":ear:":"26.00% 87.50%",":nose:":"28.00% 00.00%",":eye:":"26.00% 85.00%",":eyes:":"26.00% 82.50%",":bust_in_silhouette:":"32.00% 27.50%",":busts_in_silhouette:":"32.00% 30.00%",":speaking_head_in_silhouette:":"52.00% 25.00%",":baby:":"36.00% 05.00%",":boy:":"32.00% 32.50%",":girl:":"32.00% 47.50%",":man:":"32.00% 62.50%",":woman:":"32.00% 77.50%",":person_with_blond_hair:":"34.00% 32.50%",":older_man:":"34.00% 77.50%",":older_woman:":"34.00% 92.50%",":man_with_gua_pi_mao:":"34.00% 47.50%",":man_with_turban:":"34.00% 62.50%",":cop:":"34.00% 00.00%",":construction_worker:":"36.00% 20.00%",":guardsman:":"36.00% 97.50%",":sleuth_or_spy:":"50.00% 07.50%",":santa:":"16.00% 72.50%",":angel:":"36.00% 57.50%",":princess:":"36.00% 35.00%",":bride_with_veil:":"34.00% 17.50%",":walking:":"62.00% 10.00%",":runner:":"20.00% 22.50%",":dancer:":"38.00% 10.00%",":dancers:":"34.00% 15.00%",":couple:":"32.00% 95.00%",":two_men_holding_hands:":"32.00% 97.50%",":two_women_holding_hands:":"32.00% 100.00%",":bow:":"56.00% 47.50%",":information_desk_person:":"36.00% 82.50%",":no_good:":"56.00% 17.50%",":ok_woman:":"56.00% 32.50%",":raising_hand:":"56.00% 70.00%",":person_with_pouting_face:":"58.00% 12.50%",":person_frowning:":"56.00% 100.00%",":haircut:":"38.00% 57.50%",":massage:":"38.00% 42.50%",":couple_with_heart:":"38.00% 95.00%",":woman-heart-woman:":"78.00% 60.00%",":man-heart-man:":"78.00% 42.50%",":couplekiss:":"38.00% 90.00%",":woman-kiss-woman:":"78.00% 62.50%",":man-kiss-man:":"78.00% 45.00%",":family:":"32.00% 92.50%",":man-woman-girl:":"78.00% 35.00%",":man-woman-girl-boy:":"78.00% 37.50%",":man-woman-boy-boy:":"78.00% 32.50%",":man-woman-girl-girl:":"78.00% 40.00%",":woman-woman-boy:":"78.00% 47.50%",":woman-woman-girl:":"78.00% 52.50%",":woman-woman-girl-boy:":"78.00% 55.00%",":woman-woman-boy-boy:":"78.00% 50.00%",":woman-woman-girl-girl:":"78.00% 57.50%",":man-man-boy:":"78.00% 20.00%",":man-man-girl:":"78.00% 25.00%",":man-man-girl-boy:":"78.00% 27.50%",":man-man-boy-boy:":"78.00% 22.50%",":man-man-girl-girl:":"78.00% 30.00%",":womans_clothes:":"32.00% 02.50%",":shirt:":"30.00% 92.50%",":jeans:":"30.00% 95.00%",":necktie:":"30.00% 90.00%",":dress:":"30.00% 97.50%",":bikini:":"32.00% 00.00%",":kimono:":"30.00% 100.00%",":lipstick:":"38.00% 25.00%",":kiss:":"38.00% 80.00%",":footprints:":"32.00% 25.00%",":high_heel:":"32.00% 17.50%",":sandal:":"32.00% 20.00%",":boot:":"32.00% 22.50%",":mans_shoe:":"32.00% 12.50%",":athletic_shoe:":"32.00% 15.00%",":womans_hat:":"30.00% 85.00%",":tophat:":"18.00% 60.00%",":helmet_with_white_cross:":"04.00% 62.50%",":mortar_board:":"18.00% 17.50%",":crown:":"30.00% 82.50%",":school_satchel:":"18.00% 15.00%",":pouch:":"32.00% 10.00%",":purse:":"32.00% 05.00%",":handbag:":"32.00% 07.50%",":briefcase:":"42.00% 10.00%",":eyeglasses:":"30.00% 87.50%",":dark_sunglasses:":"50.00% 22.50%",":ring:":"38.00% 85.00%",":closed_umbrella:":"10.00% 57.50%",":dog:":"26.00% 57.50%",":cat:":"26.00% 45.00%",":mouse:":"26.00% 35.00%",":hamster:":"26.00% 65.00%",":rabbit:":"26.00% 42.50%",":bear:":"26.00% 70.00%",":panda_face:":"26.00% 72.50%",":koala:":"26.00% 22.50%",":tiger:":"26.00% 40.00%",":lion_face:":"64.00% 52.50%",":cow:":"26.00% 37.50%",":pig:":"26.00% 60.00%",":pig_nose:":"26.00% 75.00%",":frog:":"26.00% 62.50%",":octopus:":"24.00% 87.50%",":monkey_face:":"26.00% 55.00%",":see_no_evil:":"56.00% 62.50%",":hear_no_evil:":"56.00% 65.00%",":speak_no_evil:":"56.00% 67.50%",":monkey:":"24.00% 70.00%",":chicken:":"24.00% 75.00%",":penguin:":"26.00% 20.00%",":bird:":"26.00% 17.50%",":baby_chick:":"26.00% 12.50%",":hatching_chick:":"26.00% 10.00%",":hatched_chick:":"26.00% 15.00%",":wolf:":"26.00% 67.50%",":boar:":"24.00% 82.50%",":horse:":"26.00% 52.50%",":unicorn_face:":"64.00% 60.00%",":bee:":"24.00% 97.50%",":bug:":"24.00% 92.50%",":snail:":"24.00% 55.00%",":beetle:":"24.00% 100.00%",":ant:":"24.00% 95.00%",":spider:":"50.00% 25.00%",":scorpion:":"64.00% 55.00%",":crab:":"64.00% 50.00%",":snake:":"24.00% 57.50%",":turtle:":"26.00% 07.50%",":tropical_fish:":"26.00% 02.50%",":fish:":"26.00% 00.00%",":blowfish:":"26.00% 05.00%",":dolphin:":"26.00% 32.50%",":whale:":"26.00% 50.00%",":whale2:":"24.00% 52.50%",":crocodile:":"24.00% 50.00%",":leopard:":"24.00% 40.00%",":tiger2:":"24.00% 37.50%",":water_buffalo:":"24.00% 32.50%",":ox:":"24.00% 30.00%",":cow2:":"24.00% 35.00%",":dromedary_camel:":"26.00% 27.50%",":camel:":"26.00% 30.00%",":elephant:":"24.00% 85.00%",":goat:":"24.00% 65.00%",":ram:":"24.00% 62.50%",":sheep:":"24.00% 67.50%",":racehorse:":"24.00% 60.00%",":pig2:":"24.00% 80.00%",":rat:":"24.00% 25.00%",":mouse2:":"24.00% 27.50%",":rooster:":"24.00% 72.50%",":turkey:":"64.00% 57.50%",":dove_of_peace:":"48.00% 27.50%",":dog2:":"24.00% 77.50%",":poodle:":"26.00% 25.00%",":cat2:":"24.00% 45.00%",":rabbit2:":"24.00% 42.50%",":chipmunk:":"26.00% 80.00%",":feet:":"26.00% 77.50%",":dragon:":"24.00% 47.50%",":dragon_face:":"26.00% 47.50%",":cactus:":"12.00% 77.50%",":christmas_tree:":"16.00% 70.00%",":evergreen_tree:":"12.00% 70.00%",":deciduous_tree:":"12.00% 72.50%",":palm_tree:":"12.00% 75.00%",":seedling:":"12.00% 67.50%",":herb:":"14.00% 00.00%",":shamrock:":"02.00% 22.50%",":four_leaf_clover:":"14.00% 02.50%",":bamboo:":"18.00% 02.50%",":tanabata_tree:":"16.00% 100.00%",":leaves:":"14.00% 10.00%",":fallen_leaf:":"14.00% 07.50%",":maple_leaf:":"14.00% 05.00%",":ear_of_rice:":"12.00% 100.00%",":hibiscus:":"12.00% 90.00%",":sunflower:":"12.00% 92.50%",":rose:":"12.00% 87.50%",":tulip:":"12.00% 82.50%",":blossom:":"12.00% 95.00%",":cherry_blossom:":"12.00% 85.00%",":bouquet:":"38.00% 92.50%",":mushroom:":"14.00% 12.50%",":chestnut:":"12.00% 65.00%",":jack_o_lantern:":"16.00% 67.50%",":shell:":"24.00% 90.00%",":spider_web:":"50.00% 27.50%",":earth_americas:":"10.00% 87.50%",":earth_africa:":"10.00% 85.00%",":earth_asia:":"10.00% 90.00%",":full_moon:":"12.00% 02.50%",":waning_gibbous_moon:":"12.00% 05.00%",":last_quarter_moon:":"12.00% 07.50%",":waning_crescent_moon:":"12.00% 10.00%",":new_moon:":"10.00% 95.00%",":waxing_crescent_moon:":"10.00% 97.50%",":first_quarter_moon:":"10.00% 100.00%",":moon:":"12.00% 00.00%",":new_moon_with_face:":"12.00% 15.00%",":full_moon_with_face:":"12.00% 22.50%",":first_quarter_moon_with_face:":"12.00% 17.50%",":last_quarter_moon_with_face:":"12.00% 20.00%",":sun_with_face:":"12.00% 25.00%",":crescent_moon:":"12.00% 12.50%",":star:":"08.00% 60.00%",":star2:":"12.00% 27.50%",":dizzy:":"40.00% 70.00%",":sparkles:":"06.00% 97.50%",":comet:":"02.00% 10.00%",":sunny:":"02.00% 00.00%",":mostly_sunny:":"12.00% 35.00%",":partly_sunny:":"04.00% 52.50%",":barely_sunny:":"12.00% 37.50%",":partly_sunny_rain:":"12.00% 40.00%",":cloud:":"02.00% 02.50%",":rain_cloud:":"12.00% 42.50%",":thunder_cloud_and_rain:":"04.00% 55.00%",":lightning:":"12.00% 47.50%",":zap:":"04.00% 32.50%",":fire:":"46.00% 65.00%",":boom:":"40.00% 42.50%",":snowflake:":"08.00% 02.50%",":snow_cloud:":"12.00% 45.00%",":snowman_without_snow:":"04.00% 50.00%",":snowman:":"02.00% 07.50%",":wind_blowing_face:":"12.00% 55.00%",":dash:":"40.00% 50.00%",":tornado:":"12.00% 50.00%",":fog:":"12.00% 52.50%",":umbrella:":"02.00% 05.00%",":umbrella_with_rain_drops:":"02.00% 17.50%",":droplet:":"40.00% 47.50%",":sweat_drops:":"40.00% 45.00%",":ocean:":"10.00% 77.50%",":green_apple:":"14.00% 40.00%",":apple:":"14.00% 37.50%",":pear:":"14.00% 42.50%",":tangerine:":"14.00% 27.50%",":lemon:":"14.00% 30.00%",":banana:":"14.00% 32.50%",":watermelon:":"14.00% 25.00%",":grapes:":"14.00% 20.00%",":strawberry:":"14.00% 50.00%",":melon:":"14.00% 22.50%",":cherries:":"14.00% 47.50%",":peach:":"14.00% 45.00%",":pineapple:":"14.00% 35.00%",":tomato:":"14.00% 15.00%",":eggplant:":"14.00% 17.50%",":hot_pepper:":"12.00% 80.00%",":corn:":"12.00% 97.50%",":sweet_potato:":"14.00% 82.50%",":honey_pot:":"16.00% 17.50%",":bread:":"14.00% 77.50%",":cheese_wedge:":"64.00% 62.50%",":poultry_leg:":"14.00% 60.00%",":meat_on_bone:":"14.00% 57.50%",":fried_shrimp:":"14.00% 92.50%",":egg:":"16.00% 27.50%",":hamburger:":"14.00% 52.50%",":fries:":"14.00% 80.00%",":hotdog:":"12.00% 57.50%",":pizza:":"14.00% 55.00%",":spaghetti:":"14.00% 75.00%",":taco:":"12.00% 60.00%",":burrito:":"12.00% 62.50%",":ramen:":"14.00% 72.50%",":stew:":"16.00% 25.00%",":fish_cake:":"14.00% 95.00%",":sushi:":"14.00% 90.00%",":bento:":"16.00% 22.50%",":curry:":"14.00% 70.00%",":rice_ball:":"14.00% 65.00%",":rice:":"14.00% 67.50%",":rice_cracker:":"14.00% 62.50%",":oden:":"14.00% 87.50%",":dango:":"14.00% 85.00%",":shaved_ice:":"14.00% 100.00%",":ice_cream:":"16.00% 00.00%",":icecream:":"14.00% 97.50%",":cake:":"16.00% 20.00%",":birthday:":"16.00% 65.00%",":custard:":"16.00% 15.00%",":candy:":"16.00% 10.00%",":lollipop:":"16.00% 12.50%",":chocolate_bar:":"16.00% 07.50%",":popcorn:":"16.00% 57.50%",":doughnut:":"16.00% 02.50%",":cookie:":"16.00% 05.00%",":beer:":"16.00% 45.00%",":beers:":"16.00% 47.50%",":wine_glass:":"16.00% 37.50%",":cocktail:":"16.00% 40.00%",":tropical_drink:":"16.00% 42.50%",":champagne:":"16.00% 55.00%",":sake:":"16.00% 35.00%",":tea:":"16.00% 32.50%",":coffee:":"02.00% 20.00%",":baby_bottle:":"16.00% 50.00%",":fork_and_knife:":"16.00% 30.00%",":knife_fork_plate:":"16.00% 52.50%",":soccer:":"04.00% 45.00%",":basketball:":"20.00% 15.00%",":football:":"20.00% 72.50%",":baseball:":"04.00% 47.50%",":tennis:":"20.00% 10.00%",":volleyball:":"22.00% 15.00%",":rugby_football:":"20.00% 75.00%",":8ball:":"18.00% 80.00%",":golf:":"04.00% 82.50%",":golfer:":"22.00% 05.00%",":table_tennis_paddle_and_ball:":"22.00% 22.50%",":badminton_racquet_and_shuttlecock:":"24.00% 05.00%",":ice_hockey_stick_and_puck:":"22.00% 20.00%",":field_hockey_stick_and_ball:":"22.00% 17.50%",":cricket_bat_and_ball:":"22.00% 12.50%",":ski:":"20.00% 12.50%",":skier:":"04.00% 90.00%",":snowboarder:":"20.00% 20.00%",":ice_skate:":"04.00% 92.50%",":bow_and_arrow:":"24.00% 07.50%",":fishing_pole_and_fish:":"18.00% 45.00%",":rowboat:":"60.00% 27.50%",":swimmer:":"20.00% 77.50%",":surfer:":"20.00% 37.50%",":bath:":"62.00% 47.50%",":person_with_ball:":"04.00% 95.00%",":weight_lifter:":"20.00% 92.50%",":bicyclist:":"60.00% 82.50%",":mountain_bicyclist:":"60.00% 97.50%",":horse_racing:":"20.00% 57.50%",":man_in_business_suit_levitating:":"50.00% 05.00%",":trophy:":"20.00% 55.00%",":running_shirt_with_sash:":"20.00% 07.50%",":sports_medal:":"20.00% 52.50%",":medal:":"18.00% 20.00%",":reminder_ribbon:":"18.00% 22.50%",":rosette:":"24.00% 00.00%",":ticket:":"18.00% 65.00%",":admission_tickets:":"18.00% 35.00%",":performing_arts:":"18.00% 70.00%",":art:":"18.00% 57.50%",":circus_tent:":"18.00% 62.50%",":microphone:":"18.00% 47.50%",":headphones:":"18.00% 55.00%",":musical_score:":"20.00% 05.00%",":musical_keyboard:":"18.00% 100.00%",":saxophone:":"18.00% 95.00%",":trumpet:":"20.00% 00.00%",":guitar:":"18.00% 97.50%",":violin:":"20.00% 02.50%",":clapper:":"18.00% 67.50%",":video_game:":"18.00% 72.50%",":space_invader:":"36.00% 75.00%",":dart:":"18.00% 75.00%",":game_die:":"18.00% 82.50%",":slot_machine:":"18.00% 77.50%",":bowling:":"18.00% 85.00%",":car:":"58.00% 100.00%",":taxi:":"58.00% 95.00%",":blue_car:":"60.00% 02.50%",":bus:":"58.00% 72.50%",":trolleybus:":"58.00% 77.50%",":racing_car:":"22.00% 10.00%",":police_car:":"58.00% 90.00%",":ambulance:":"58.00% 85.00%",":fire_engine:":"58.00% 87.50%",":minibus:":"58.00% 82.50%",":truck:":"60.00% 05.00%",":articulated_lorry:":"60.00% 07.50%",":tractor:":"60.00% 10.00%",":racing_motorcycle:":"22.00% 07.50%",":bike:":"60.00% 77.50%",":rotating_light:":"60.00% 52.50%",":oncoming_police_car:":"58.00% 92.50%",":oncoming_bus:":"58.00% 75.00%",":oncoming_automobile:":"60.00% 00.00%",":oncoming_taxi:":"58.00% 97.50%",":aerial_tramway:":"60.00% 22.50%",":mountain_cableway:":"60.00% 20.00%",":suspension_railway:":"60.00% 17.50%",":railway_car:":"58.00% 50.00%",":train:":"58.00% 70.00%",":monorail:":"60.00% 12.50%",":bullettrain_side:":"58.00% 52.50%",":bullettrain_front:":"58.00% 55.00%",":light_rail:":"58.00% 62.50%",":mountain_railway:":"60.00% 15.00%",":steam_locomotive:":"58.00% 47.50%",":train2:":"58.00% 57.50%",":metro:":"58.00% 60.00%",":tram:":"58.00% 67.50%",":station:":"58.00% 65.00%",":helicopter:":"58.00% 45.00%",":small_airplane:":"64.00% 02.50%",":airplane:":"06.00% 17.50%",":airplane_departure:":"64.00% 05.00%",":airplane_arriving:":"64.00% 07.50%",":boat:":"04.00% 87.50%",":motor_boat:":"64.00% 00.00%",":speedboat:":"60.00% 42.50%",":ferry:":"04.00% 85.00%",":passenger_ship:":"64.00% 12.50%",":rocket:":"58.00% 42.50%",":satellite:":"64.00% 10.00%",":seat:":"42.00% 05.00%",":anchor:":"04.00% 12.50%",":construction:":"60.00% 50.00%",":fuelpump:":"06.00% 10.00%",":busstop:":"58.00% 80.00%",":vertical_traffic_light:":"60.00% 47.50%",":traffic_light:":"60.00% 45.00%",":checkered_flag:":"20.00% 17.50%",":ship:":"60.00% 25.00%",":ferris_wheel:":"18.00% 40.00%",":roller_coaster:":"18.00% 42.50%",":carousel_horse:":"18.00% 37.50%",":building_construction:":"22.00% 32.50%",":foggy:":"10.00% 55.00%",":tokyo_tower:":"52.00% 40.00%",":factory:":"22.00% 87.50%",":fountain:":"04.00% 80.00%",":rice_scene:":"18.00% 12.50%",":mountain:":"04.00% 75.00%",":snow_capped_mountain:":"22.00% 25.00%",":mount_fuji:":"52.00% 37.50%",":volcano:":"10.00% 80.00%",":japan:":"52.00% 45.00%",":camping:":"22.00% 27.50%",":tent:":"06.00% 07.50%",":national_park:":"22.00% 50.00%",":motorway:":"62.00% 97.50%",":railway_track:":"62.00% 100.00%",":sunrise:":"10.00% 65.00%",":sunrise_over_mountains:":"10.00% 62.50%",":desert:":"22.00% 45.00%",":beach_with_umbrella:":"22.00% 30.00%",":desert_island:":"22.00% 47.50%",":city_sunrise:":"10.00% 70.00%",":city_sunset:":"10.00% 67.50%",":cityscape:":"22.00% 37.50%",":night_with_stars:":"10.00% 60.00%",":bridge_at_night:":"10.00% 75.00%",":milky_way:":"10.00% 82.50%",":stars:":"12.00% 30.00%",":sparkler:":"16.00% 90.00%",":fireworks:":"16.00% 87.50%",":rainbow:":"10.00% 72.50%",":house_buildings:":"22.00% 35.00%",":european_castle:":"22.00% 95.00%",":japanese_castle:":"22.00% 92.50%",":stadium:":"22.00% 52.50%",":statue_of_liberty:":"52.00% 42.50%",":house:":"22.00% 55.00%",":house_with_garden:":"22.00% 57.50%",":derelict_house_building:":"22.00% 40.00%",":office:":"22.00% 60.00%",":department_store:":"22.00% 85.00%",":post_office:":"22.00% 62.50%",":european_post_office:":"22.00% 65.00%",":hospital:":"22.00% 67.50%",":bank:":"22.00% 70.00%",":hotel:":"22.00% 75.00%",":convenience_store:":"22.00% 80.00%",":school:":"22.00% 82.50%",":love_hotel:":"22.00% 77.50%",":wedding:":"38.00% 97.50%",":classical_building:":"22.00% 42.50%",":church:":"04.00% 72.50%",":mosque:":"48.00% 32.50%",":synagogue:":"48.00% 35.00%",":kaaba:":"48.00% 30.00%",":shinto_shrine:":"04.00% 70.00%",":watch:":"00.00% 35.00%",":iphone:":"44.00% 40.00%",":calling:":"44.00% 42.50%",":computer:":"42.00% 07.50%",":keyboard:":"00.00% 40.00%",":desktop_computer:":"50.00% 90.00%",":printer:":"50.00% 92.50%",":three_button_mouse:":"50.00% 95.00%",":trackball:":"50.00% 97.50%",":joystick:":"50.00% 30.00%",":compression:":"52.00% 15.00%",":minidisc:":"42.00% 12.50%",":floppy_disk:":"42.00% 15.00%",":cd:":"42.00% 17.50%",":dvd:":"42.00% 20.00%",":vhs:":"44.00% 67.50%",":camera:":"44.00% 55.00%",":camera_with_flash:":"44.00% 57.50%",":video_camera:":"44.00% 60.00%",":movie_camera:":"18.00% 50.00%",":film_projector:":"44.00% 70.00%",":film_frames:":"18.00% 32.50%",":telephone_receiver:":"42.00% 95.00%",":phone:":"02.00% 12.50%",":pager:":"42.00% 97.50%",":fax:":"42.00% 100.00%",":tv:":"44.00% 62.50%",":radio:":"44.00% 65.00%",":studio_microphone:":"18.00% 25.00%",":level_slider:":"18.00% 27.50%",":control_knobs:":"18.00% 30.00%",":stopwatch:":"00.00% 65.00%",":timer_clock:":"00.00% 67.50%",":alarm_clock:":"00.00% 62.50%",":mantelpiece_clock:":"50.00% 00.00%",":hourglass_flowing_sand:":"00.00% 70.00%",":hourglass:":"00.00% 37.50%",":satellite_antenna:":"44.00% 00.00%",":battery:":"46.00% 00.00%",":electric_plug:":"46.00% 02.50%",":bulb:":"40.00% 32.50%",":flashlight:":"46.00% 67.50%",":candle:":"48.00% 100.00%",":wastebasket:":"52.00% 07.50%",":oil_drum:":"62.00% 95.00%",":money_with_wings:":"42.00% 00.00%",":dollar:":"40.00% 95.00%",":yen:":"40.00% 92.50%",":euro:":"40.00% 97.50%",":pound:":"40.00% 100.00%",":moneybag:":"40.00% 82.50%",":credit_card:":"40.00% 90.00%",":gem:":"38.00% 87.50%",":scales:":"04.00% 17.50%",":wrench:":"46.00% 70.00%",":hammer:":"46.00% 72.50%",":hammer_and_pick:":"04.00% 10.00%",":hammer_and_wrench:":"62.00% 90.00%",":pick:":"04.00% 60.00%",":nut_and_bolt:":"46.00% 75.00%",":gear:":"04.00% 22.50%",":chains:":"04.00% 65.00%",":gun:":"46.00% 80.00%",":bomb:":"40.00% 37.50%",":hocho:":"46.00% 77.50%",":dagger_knife:":"52.00% 22.50%",":crossed_swords:":"04.00% 15.00%",":shield:":"62.00% 92.50%",":smoking:":"60.00% 62.50%",":skull_and_crossbones:":"02.00% 40.00%",":coffin:":"04.00% 40.00%",":funeral_urn:":"04.00% 42.50%",":amphora:":"24.00% 10.00%",":crystal_ball:":"46.00% 87.50%",":prayer_beads:":"44.00% 72.50%",":barber:":"38.00% 72.50%",":alembic:":"04.00% 20.00%",":telescope:":"46.00% 85.00%",":microscope:":"46.00% 82.50%",":hole:":"50.00% 02.50%",":pill:":"38.00% 77.50%",":syringe:":"38.00% 75.00%",":thermometer:":"12.00% 32.50%",":label:":"24.00% 02.50%",":bookmark:":"46.00% 27.50%",":toilet:":"62.00% 40.00%",":shower:":"62.00% 45.00%",":bathtub:":"62.00% 62.50%",":key:":"46.00% 15.00%",":old_key:":"52.00% 17.50%",":couch_and_lamp:":"62.00% 75.00%",":sleeping_accommodation:":"62.00% 77.50%",":bed:":"62.00% 85.00%",":door:":"60.00% 57.50%",":bellhop_bell:":"62.00% 82.50%",":frame_with_picture:":"50.00% 100.00%",":world_map:":"52.00% 35.00%",":umbrella_on_ground:":"04.00% 77.50%",":moyai:":"52.00% 47.50%",":shopping_bags:":"62.00% 80.00%",":balloon:":"16.00% 92.50%",":flags:":"18.00% 07.50%",":ribbon:":"16.00% 60.00%",":gift:":"16.00% 62.50%",":confetti_ball:":"16.00% 97.50%",":tada:":"16.00% 95.00%",":dolls:":"18.00% 05.00%",":wind_chime:":"18.00% 10.00%",":crossed_flags:":"18.00% 00.00%",":izakaya_lantern:":"22.00% 90.00%",":email:":"06.00% 20.00%",":envelope_with_arrow:":"44.00% 20.00%",":incoming_envelope:":"44.00% 17.50%",":e-mail:":"44.00% 15.00%",":love_letter:":"38.00% 82.50%",":postbox:":"44.00% 32.50%",":mailbox_closed:":"44.00% 22.50%",":mailbox:":"44.00% 25.00%",":mailbox_with_mail:":"44.00% 27.50%",":mailbox_with_no_mail:":"44.00% 30.00%",":package:":"44.00% 12.50%",":postal_horn:":"44.00% 35.00%",":inbox_tray:":"44.00% 10.00%",":outbox_tray:":"44.00% 07.50%",":scroll:":"42.00% 90.00%",":page_with_curl:":"42.00% 27.50%",":bookmark_tabs:":"42.00% 62.50%",":bar_chart:":"42.00% 45.00%",":chart_with_upwards_trend:":"42.00% 40.00%",":chart_with_downwards_trend:":"42.00% 42.50%",":page_facing_up:":"42.00% 30.00%",":date:":"42.00% 32.50%",":calendar:":"42.00% 35.00%",":spiral_calendar_pad:":"52.00% 12.50%",":card_index:":"42.00% 37.50%",":card_file_box:":"52.00% 02.50%",":ballot_box_with_ballot:":"52.00% 32.50%",":file_cabinet:":"52.00% 05.00%",":clipboard:":"42.00% 47.50%",":spiral_note_pad:":"52.00% 10.00%",":file_folder:":"42.00% 22.50%",":open_file_folder:":"42.00% 25.00%",":card_index_dividers:":"52.00% 00.00%",":rolled_up_newspaper:":"52.00% 20.00%",":newspaper:":"44.00% 37.50%",":notebook:":"42.00% 67.50%",":closed_book:":"42.00% 72.50%",":green_book:":"42.00% 77.50%",":blue_book:":"42.00% 80.00%",":orange_book:":"42.00% 82.50%",":notebook_with_decorative_cover:":"42.00% 70.00%",":ledger:":"42.00% 65.00%",":books:":"42.00% 85.00%",":book:":"42.00% 75.00%",":link:":"46.00% 30.00%",":paperclip:":"42.00% 55.00%",":linked_paperclips:":"50.00% 32.50%",":scissors:":"06.00% 12.50%",":triangular_ruler:":"42.00% 60.00%",":straight_ruler:":"42.00% 57.50%",":pushpin:":"42.00% 50.00%",":round_pushpin:":"42.00% 52.50%",":triangular_flag_on_post:":"60.00% 55.00%",":waving_white_flag:":"22.00% 97.50%",":waving_black_flag:":"22.00% 100.00%",":closed_lock_with_key:":"46.00% 12.50%",":lock:":"46.00% 17.50%",":unlock:":"46.00% 20.00%",":lock_with_ink_pen:":"46.00% 10.00%",":lower_left_ballpoint_pen:":"50.00% 35.00%",":lower_left_fountain_pen:":"50.00% 37.50%",":black_nib:":"06.00% 85.00%",":memo:":"42.00% 92.50%",":pencil2:":"06.00% 82.50%",":lower_left_crayon:":"50.00% 42.50%",":lower_left_paintbrush:":"50.00% 40.00%",":mag:":"46.00% 05.00%",":mag_right:":"46.00% 07.50%",":heart:":"08.00% 25.00%",":yellow_heart:":"40.00% 17.50%",":green_heart:":"40.00% 15.00%",":blue_heart:":"40.00% 12.50%",":purple_heart:":"40.00% 20.00%",":broken_heart:":"40.00% 00.00%",":heavy_heart_exclamation_mark_ornament:":"08.00% 22.50%",":two_hearts:":"40.00% 02.50%",":revolving_hearts:":"40.00% 25.00%",":heartbeat:":"38.00% 100.00%",":heartpulse:":"40.00% 07.50%",":sparkling_heart:":"40.00% 05.00%",":cupid:":"40.00% 10.00%",":gift_heart:":"40.00% 22.50%",":heart_decoration:":"40.00% 27.50%",":peace_symbol:":"02.00% 52.50%",":latin_cross:":"06.00% 92.50%",":star_and_crescent:":"02.00% 50.00%",":om_symbol:":"48.00% 25.00%",":wheel_of_dharma:":"02.00% 57.50%",":star_of_david:":"06.00% 95.00%",":six_pointed_star:":"46.00% 90.00%",":menorah_with_nine_branches:":"48.00% 37.50%",":yin_yang:":"02.00% 55.00%",":orthodox_cross:":"02.00% 47.50%",":place_of_worship:":"62.00% 87.50%",":ophiuchus:":"04.00% 57.50%",":aries:":"02.00% 65.00%",":taurus:":"02.00% 67.50%",":gemini:":"02.00% 70.00%",":cancer:":"02.00% 72.50%",":leo:":"02.00% 75.00%",":virgo:":"02.00% 77.50%",":libra:":"02.00% 80.00%",":scorpius:":"02.00% 82.50%",":sagittarius:":"02.00% 85.00%",":capricorn:":"02.00% 87.50%",":aquarius:":"02.00% 90.00%",":pisces:":"02.00% 92.50%",":id:":"08.00% 100.00%",":atom_symbol:":"04.00% 25.00%",":u7a7a:":"10.00% 27.50%",":u5272:":"10.00% 42.50%",":radioactive_sign:":"02.00% 42.50%",":biohazard_sign:":"02.00% 45.00%",":mobile_phone_off:":"44.00% 47.50%",":vibration_mode:":"44.00% 45.00%",":u6709:":"10.00% 35.00%",":u7121:":"10.00% 20.00%",":u7533:":"10.00% 40.00%",":u55b6:":"10.00% 45.00%",":u6708:":"10.00% 37.50%",":eight_pointed_black_star:":"08.00% 00.00%",":vs:":"10.00% 12.50%",":accept:":"10.00% 50.00%",":white_flower:":"40.00% 77.50%",":ideograph_advantage:":"10.00% 47.50%",":secret:":"08.00% 72.50%",":congratulations:":"08.00% 70.00%",":u5408:":"10.00% 30.00%",":u6e80:":"10.00% 32.50%",":u7981:":"10.00% 25.00%",":a:":"08.00% 80.00%",":b:":"08.00% 82.50%",":ab:":"08.00% 90.00%",":cl:":"08.00% 92.50%",":o2:":"08.00% 85.00%",":sos:":"10.00% 07.50%",":no_entry:":"04.00% 67.50%",":name_badge:":"42.00% 87.50%",":no_entry_sign:":"60.00% 60.00%",":x:":"08.00% 07.50%",":o:":"08.00% 62.50%",":anger:":"40.00% 35.00%",":hotsprings:":"04.00% 02.50%",":no_pedestrians:":"62.00% 25.00%",":do_not_litter:":"60.00% 70.00%",":no_bicycles:":"60.00% 80.00%",":non-potable_water:":"60.00% 75.00%",":underage:":"46.00% 47.50%",":no_mobile_phones:":"44.00% 50.00%",":exclamation:":"08.00% 20.00%",":grey_exclamation:":"08.00% 17.50%",":question:":"08.00% 12.50%",":grey_question:":"08.00% 15.00%",":bangbang:":"00.00% 05.00%",":interrobang:":"00.00% 07.50%",":100:":"40.00% 80.00%",":low_brightness:":"44.00% 87.50%",":high_brightness:":"44.00% 90.00%",":trident:":"46.00% 95.00%",":fleur_de_lis:":"04.00% 27.50%",":part_alternation_mark:":"08.00% 67.50%",":warning:":"04.00% 30.00%",":children_crossing:":"62.00% 27.50%",":beginner:":"46.00% 92.50%",":recycle:":"04.00% 05.00%",":u6307:":"10.00% 22.50%",":chart:":"42.00% 02.50%",":sparkle:":"08.00% 05.00%",":eight_spoked_asterisk:":"06.00% 100.00%",":eject:":"00.00% 42.50%",":negative_squared_cross_mark:":"08.00% 10.00%",":white_check_mark:":"06.00% 15.00%",":diamond_shape_with_a_dot_inside:":"40.00% 30.00%",":cyclone:":"10.00% 52.50%",":loop:":"08.00% 40.00%",":globe_with_meridians:":"10.00% 92.50%",":m:":"00.00% 80.00%",":atm:":"22.00% 72.50%",":sa:":"10.00% 17.50%",":passport_control:":"62.00% 65.00%",":customs:":"62.00% 67.50%",":baggage_claim:":"62.00% 70.00%",":left_luggage:":"62.00% 72.50%",":wheelchair:":"04.00% 07.50%",":no_smoking:":"60.00% 65.00%",":wc:":"62.00% 42.50%",":parking:":"08.00% 87.50%",":potable_water:":"60.00% 72.50%",":mens:":"62.00% 30.00%",":womens:":"62.00% 32.50%",":baby_symbol:":"62.00% 37.50%",":restroom:":"62.00% 35.00%",":put_litter_in_its_place:":"60.00% 67.50%",":cinema:":"18.00% 52.50%",":signal_strength:":"44.00% 52.50%",":koko:":"10.00% 15.00%",":ng:":"10.00% 02.50%",":ok:":"10.00% 05.00%",":up:":"10.00% 10.00%",":cool:":"08.00% 95.00%",":new:":"10.00% 00.00%",":free:":"08.00% 97.50%",":zero:":"64.00% 70.00%",":one:":"64.00% 72.50%",":two:":"64.00% 75.00%",":three:":"64.00% 77.50%",":four:":"64.00% 80.00%",":five:":"64.00% 82.50%",":six:":"64.00% 85.00%",":seven:":"64.00% 87.50%",":eight:":"64.00% 90.00%",":nine:":"64.00% 92.50%",":keycap_ten:":"46.00% 50.00%",":keycap_star:":"64.00% 67.50%",":1234:":"46.00% 57.50%",":arrow_forward:":"00.00% 87.50%",":double_vertical_bar:":"00.00% 72.50%",":black_right_pointing_triangle_with_double_vertical_bar:":"00.00% 60.00%",":black_square_for_stop:":"00.00% 75.00%",":black_circle_for_record:":"00.00% 77.50%",":black_right_pointing_double_triangle_with_vertical_bar:":"00.00% 55.00%",":black_left_pointing_double_triangle_with_vertical_bar:":"00.00% 57.50%",":fast_forward:":"00.00% 45.00%",":rewind:":"00.00% 47.50%",":twisted_rightwards_arrows:":"44.00% 75.00%",":repeat:":"44.00% 77.50%",":repeat_one:":"44.00% 80.00%",":arrow_backward:":"00.00% 90.00%",":arrow_up_small:":"48.00% 20.00%",":arrow_down_small:":"48.00% 22.50%",":arrow_double_up:":"00.00% 50.00%",":arrow_double_down:":"00.00% 52.50%",":arrow_right:":"08.00% 35.00%",":arrow_left:":"08.00% 47.50%",":arrow_up:":"08.00% 50.00%",":arrow_down:":"08.00% 52.50%",":arrow_upper_right:":"00.00% 22.50%",":arrow_lower_right:":"00.00% 25.00%",":arrow_lower_left:":"00.00% 27.50%",":arrow_upper_left:":"00.00% 20.00%",":arrow_up_down:":"00.00% 17.50%",":left_right_arrow:":"00.00% 15.00%",":arrows_counterclockwise:":"44.00% 85.00%",":arrow_right_hook:":"00.00% 32.50%",":leftwards_arrow_with_hook:":"00.00% 30.00%",":arrow_heading_up:":"08.00% 42.50%",":arrow_heading_down:":"08.00% 45.00%",":hash:":"64.00% 65.00%",":information_source:":"00.00% 12.50%",":abc:":"46.00% 62.50%",":abcd:":"46.00% 55.00%",":capital_abcd:":"46.00% 52.50%",":symbols:":"46.00% 60.00%",":musical_note:":"18.00% 90.00%",":notes:":"18.00% 92.50%",":wavy_dash:":"08.00% 65.00%",":curly_loop:":"08.00% 37.50%",":heavy_check_mark:":"06.00% 87.50%",":arrows_clockwise:":"44.00% 82.50%",":heavy_plus_sign:":"08.00% 27.50%",":heavy_minus_sign:":"08.00% 30.00%",":heavy_division_sign:":"08.00% 32.50%",":heavy_multiplication_x:":"06.00% 90.00%",":heavy_dollar_sign:":"40.00% 87.50%",":currency_exchange:":"40.00% 85.00%",":copyright:":"00.00% 00.00%",":registered:":"00.00% 02.50%",":tm:":"00.00% 10.00%",":end:":"46.00% 37.50%",":back:":"46.00% 35.00%",":on:":"46.00% 40.00%",":top:":"46.00% 45.00%",":soon:":"46.00% 42.50%",":ballot_box_with_check:":"02.00% 15.00%",":radio_button:":"46.00% 32.50%",":white_circle:":"04.00% 35.00%",":black_circle:":"04.00% 37.50%",":red_circle:":"48.00% 00.00%",":large_blue_circle:":"48.00% 02.50%",":small_orange_diamond:":"48.00% 10.00%",":small_blue_diamond:":"48.00% 12.50%",":large_orange_diamond:":"48.00% 05.00%",":large_blue_diamond:":"48.00% 07.50%",":small_red_triangle:":"48.00% 15.00%",":black_small_square:":"00.00% 82.50%",":white_small_square:":"00.00% 85.00%",":black_large_square:":"08.00% 55.00%",":white_large_square:":"08.00% 57.50%",":small_red_triangle_down:":"48.00% 17.50%",":black_medium_square:":"00.00% 95.00%",":white_medium_square:":"00.00% 92.50%",":black_medium_small_square:":"00.00% 100.00%",":white_medium_small_square:":"00.00% 97.50%",":black_square_button:":"46.00% 97.50%",":white_square_button:":"46.00% 100.00%",":speaker:":"44.00% 95.00%",":sound:":"44.00% 97.50%",":loud_sound:":"44.00% 100.00%",":mute:":"44.00% 92.50%",":mega:":"44.00% 05.00%",":loudspeaker:":"44.00% 02.50%",":bell:":"46.00% 22.50%",":no_bell:":"46.00% 25.00%",":black_joker:":"08.00% 77.50%",":mahjong:":"08.00% 75.00%",":spades:":"02.00% 95.00%",":clubs:":"02.00% 97.50%",":hearts:":"02.00% 100.00%",":diamonds:":"04.00% 00.00%",":flower_playing_cards:":"18.00% 87.50%",":thought_balloon:":"40.00% 75.00%",":right_anger_bubble:":"52.00% 30.00%",":speech_balloon:":"40.00% 72.50%",":left_speech_bubble:":"52.00% 27.50%",":clock1:":"48.00% 40.00%",":clock2:":"48.00% 42.50%",":clock3:":"48.00% 45.00%",":clock4:":"48.00% 47.50%",":clock5:":"48.00% 50.00%",":clock6:":"48.00% 52.50%",":clock7:":"48.00% 55.00%",":clock8:":"48.00% 57.50%",":clock9:":"48.00% 60.00%",":clock10:":"48.00% 62.50%",":clock11:":"48.00% 65.00%",":clock12:":"48.00% 67.50%",":clock130:":"48.00% 70.00%",":clock230:":"48.00% 72.50%",":clock330:":"48.00% 75.00%",":clock430:":"48.00% 77.50%",":clock530:":"48.00% 80.00%",":clock630:":"48.00% 82.50%",":clock730:":"48.00% 85.00%",":clock830:":"48.00% 87.50%",":clock930:":"48.00% 90.00%",":clock1030:":"48.00% 92.50%",":clock1130:":"48.00% 95.00%",":clock1230:":"48.00% 97.50%",":flag-ac:":"64.00% 95.00%",":flag-ad:":"64.00% 97.50%",":flag-ae:":"64.00% 100.00%",":flag-af:":"66.00% 00.00%",":flag-ag:":"66.00% 02.50%",":flag-ai:":"66.00% 05.00%",":flag-al:":"66.00% 07.50%",":flag-am:":"66.00% 10.00%",":flag-ao:":"66.00% 12.50%",":flag-aq:":"66.00% 15.00%",":flag-ar:":"66.00% 17.50%",":flag-as:":"66.00% 20.00%",":flag-at:":"66.00% 22.50%",":flag-au:":"66.00% 25.00%",":flag-aw:":"66.00% 27.50%",":flag-ax:":"66.00% 30.00%",":flag-az:":"66.00% 32.50%",":flag-ba:":"66.00% 35.00%",":flag-bb:":"66.00% 37.50%",":flag-bd:":"66.00% 40.00%",":flag-be:":"66.00% 42.50%",":flag-bf:":"66.00% 45.00%",":flag-bg:":"66.00% 47.50%",":flag-bh:":"66.00% 50.00%",":flag-bi:":"66.00% 52.50%",":flag-bj:":"66.00% 55.00%",":flag-bl:":"66.00% 57.50%",":flag-bm:":"66.00% 60.00%",":flag-bn:":"66.00% 62.50%",":flag-bo:":"66.00% 65.00%",":flag-bq:":"66.00% 67.50%",":flag-br:":"66.00% 70.00%",":flag-bs:":"66.00% 72.50%",":flag-bt:":"66.00% 75.00%",":flag-bv:":"66.00% 77.50%",":flag-bw:":"66.00% 80.00%",":flag-by:":"66.00% 82.50%",":flag-bz:":"66.00% 85.00%",":flag-ca:":"66.00% 87.50%",":flag-cc:":"66.00% 90.00%",":flag-cd:":"66.00% 92.50%",":flag-cf:":"66.00% 95.00%",":flag-cg:":"66.00% 97.50%",":flag-ch:":"66.00% 100.00%",":flag-ci:":"68.00% 00.00%",":flag-ck:":"68.00% 02.50%",":flag-cl:":"68.00% 05.00%",":flag-cm:":"68.00% 07.50%",":flag-cn:":"68.00% 10.00%",":flag-co:":"68.00% 12.50%",":flag-cp:":"68.00% 15.00%",":flag-cr:":"68.00% 17.50%",":flag-cu:":"68.00% 20.00%",":flag-cv:":"68.00% 22.50%",":flag-cw:":"68.00% 25.00%",":flag-cx:":"68.00% 27.50%",":flag-cy:":"68.00% 30.00%",":flag-cz:":"68.00% 32.50%",":flag-de:":"68.00% 35.00%",":flag-dg:":"68.00% 37.50%",":flag-dj:":"68.00% 40.00%",":flag-dk:":"68.00% 42.50%",":flag-dm:":"68.00% 45.00%",":flag-do:":"68.00% 47.50%",":flag-dz:":"68.00% 50.00%",":flag-ea:":"68.00% 52.50%",":flag-ec:":"68.00% 55.00%",":flag-ee:":"68.00% 57.50%",":flag-eg:":"68.00% 60.00%",":flag-eh:":"68.00% 62.50%",":flag-er:":"68.00% 65.00%",":flag-es:":"68.00% 67.50%",":flag-et:":"68.00% 70.00%",":flag-eu:":"68.00% 72.50%",":flag-fi:":"68.00% 75.00%",":flag-fj:":"68.00% 77.50%",":flag-fk:":"68.00% 80.00%",":flag-fm:":"68.00% 82.50%",":flag-fo:":"68.00% 85.00%",":flag-fr:":"68.00% 87.50%",":flag-ga:":"68.00% 90.00%",":flag-gb:":"68.00% 92.50%",":flag-gd:":"68.00% 95.00%",":flag-ge:":"68.00% 97.50%",":flag-gf:":"68.00% 100.00%",":flag-gg:":"70.00% 00.00%",":flag-gh:":"70.00% 02.50%",":flag-gi:":"70.00% 05.00%",":flag-gl:":"70.00% 07.50%",":flag-gm:":"70.00% 10.00%",":flag-gn:":"70.00% 12.50%",":flag-gp:":"70.00% 15.00%",":flag-gq:":"70.00% 17.50%",":flag-gr:":"70.00% 20.00%",":flag-gs:":"70.00% 22.50%",":flag-gt:":"70.00% 25.00%",":flag-gu:":"70.00% 27.50%",":flag-gw:":"70.00% 30.00%",":flag-gy:":"70.00% 32.50%",":flag-hk:":"70.00% 35.00%",":flag-hm:":"70.00% 37.50%",":flag-hn:":"70.00% 40.00%",":flag-hr:":"70.00% 42.50%",":flag-ht:":"70.00% 45.00%",":flag-hu:":"70.00% 47.50%",":flag-ic:":"70.00% 50.00%",":flag-id:":"70.00% 52.50%",":flag-ie:":"70.00% 55.00%",":flag-il:":"70.00% 57.50%",":flag-im:":"70.00% 60.00%",":flag-in:":"70.00% 62.50%",":flag-io:":"70.00% 65.00%",":flag-iq:":"70.00% 67.50%",":flag-ir:":"70.00% 70.00%",":flag-is:":"70.00% 72.50%",":flag-it:":"70.00% 75.00%",":flag-je:":"70.00% 77.50%",":flag-jm:":"70.00% 80.00%",":flag-jo:":"70.00% 82.50%",":flag-jp:":"70.00% 85.00%",":flag-ke:":"70.00% 87.50%",":flag-kg:":"70.00% 90.00%",":flag-kh:":"70.00% 92.50%",":flag-ki:":"70.00% 95.00%",":flag-km:":"70.00% 97.50%",":flag-kn:":"70.00% 100.00%",":flag-kp:":"72.00% 00.00%",":flag-kr:":"72.00% 02.50%",":flag-kw:":"72.00% 05.00%",":flag-ky:":"72.00% 07.50%",":flag-kz:":"72.00% 10.00%",":flag-la:":"72.00% 12.50%",":flag-lb:":"72.00% 15.00%",":flag-lc:":"72.00% 17.50%",":flag-li:":"72.00% 20.00%",":flag-lk:":"72.00% 22.50%",":flag-lr:":"72.00% 25.00%",":flag-ls:":"72.00% 27.50%",":flag-lt:":"72.00% 30.00%",":flag-lu:":"72.00% 32.50%",":flag-lv:":"72.00% 35.00%",":flag-ly:":"72.00% 37.50%",":flag-ma:":"72.00% 40.00%",":flag-mc:":"72.00% 42.50%",":flag-md:":"72.00% 45.00%",":flag-me:":"72.00% 47.50%",":flag-mf:":"72.00% 50.00%",":flag-mg:":"72.00% 52.50%",":flag-mh:":"72.00% 55.00%",":flag-mk:":"72.00% 57.50%",":flag-ml:":"72.00% 60.00%",":flag-mm:":"72.00% 62.50%",":flag-mn:":"72.00% 65.00%",":flag-mo:":"72.00% 67.50%",":flag-mp:":"72.00% 70.00%",":flag-mq:":"72.00% 72.50%",":flag-mr:":"72.00% 75.00%",":flag-ms:":"72.00% 77.50%",":flag-mt:":"72.00% 80.00%",":flag-mu:":"72.00% 82.50%",":flag-mv:":"72.00% 85.00%",":flag-mw:":"72.00% 87.50%",":flag-mx:":"72.00% 90.00%",":flag-my:":"72.00% 92.50%",":flag-mz:":"72.00% 95.00%",":flag-na:":"72.00% 97.50%",":flag-nc:":"72.00% 100.00%",":flag-ne:":"74.00% 00.00%",":flag-nf:":"74.00% 02.50%",":flag-ng:":"74.00% 05.00%",":flag-ni:":"74.00% 07.50%",":flag-nl:":"74.00% 10.00%",":flag-no:":"74.00% 12.50%",":flag-np:":"74.00% 15.00%",":flag-nr:":"74.00% 17.50%",":flag-nu:":"74.00% 20.00%",":flag-nz:":"74.00% 22.50%",":flag-om:":"74.00% 25.00%",":flag-pa:":"74.00% 27.50%",":flag-pe:":"74.00% 30.00%",":flag-pf:":"74.00% 32.50%",":flag-pg:":"74.00% 35.00%",":flag-ph:":"74.00% 37.50%",":flag-pk:":"74.00% 40.00%",":flag-pl:":"74.00% 42.50%",":flag-pm:":"74.00% 45.00%",":flag-pn:":"74.00% 47.50%",":flag-pr:":"74.00% 50.00%",":flag-ps:":"74.00% 52.50%",":flag-pt:":"74.00% 55.00%",":flag-pw:":"74.00% 57.50%",":flag-py:":"74.00% 60.00%",":flag-qa:":"74.00% 62.50%",":flag-re:":"74.00% 65.00%",":flag-ro:":"74.00% 67.50%",":flag-rs:":"74.00% 70.00%",":flag-ru:":"74.00% 72.50%",":flag-rw:":"74.00% 75.00%",":flag-sa:":"74.00% 77.50%",":flag-sb:":"74.00% 80.00%",":flag-sc:":"74.00% 82.50%",":flag-sd:":"74.00% 85.00%",":flag-se:":"74.00% 87.50%",":flag-sg:":"74.00% 90.00%",":flag-sh:":"74.00% 92.50%",":flag-si:":"74.00% 95.00%",":flag-sj:":"74.00% 97.50%",":flag-sk:":"74.00% 100.00%",":flag-sl:":"76.00% 00.00%",":flag-sm:":"76.00% 02.50%",":flag-sn:":"76.00% 05.00%",":flag-so:":"76.00% 07.50%",":flag-sr:":"76.00% 10.00%",":flag-ss:":"76.00% 12.50%",":flag-st:":"76.00% 15.00%",":flag-sv:":"76.00% 17.50%",":flag-sx:":"76.00% 20.00%",":flag-sy:":"76.00% 22.50%",":flag-sz:":"76.00% 25.00%",":flag-ta:":"76.00% 27.50%",":flag-tc:":"76.00% 30.00%",":flag-td:":"76.00% 32.50%",":flag-tf:":"76.00% 35.00%",":flag-tg:":"76.00% 37.50%",":flag-th:":"76.00% 40.00%",":flag-tj:":"76.00% 42.50%",":flag-tk:":"76.00% 45.00%",":flag-tl:":"76.00% 47.50%",":flag-tm:":"76.00% 50.00%",":flag-tn:":"76.00% 52.50%",":flag-to:":"76.00% 55.00%",":flag-tr:":"76.00% 57.50%",":flag-tt:":"76.00% 60.00%",":flag-tv:":"76.00% 62.50%",":flag-tw:":"76.00% 65.00%",":flag-tz:":"76.00% 67.50%",":flag-ua:":"76.00% 70.00%",":flag-ug:":"76.00% 72.50%",":flag-um:":"76.00% 75.00%",":flag-us:":"76.00% 77.50%",":flag-uy:":"76.00% 80.00%",":flag-uz:":"76.00% 82.50%",":flag-va:":"76.00% 85.00%",":flag-vc:":"76.00% 87.50%",":flag-ve:":"76.00% 90.00%",":flag-vg:":"76.00% 92.50%",":flag-vi:":"76.00% 95.00%",":flag-vn:":"76.00% 97.50%",":flag-vu:":"76.00% 100.00%",":flag-wf:":"78.00% 00.00%",":flag-ws:":"78.00% 02.50%",":flag-xk:":"78.00% 05.00%",":flag-ye:":"78.00% 07.50%",":flag-yt:":"78.00% 10.00%",":flag-za:":"78.00% 12.50%",":flag-zm:":"78.00% 15.00%",":flag-zw:":"78.00% 17.50%"},ba=[":d",":')",":-*","/-heart","/-strong",":3","--b",":b",";d",":~",":>",";p",":*",";o",":((",":))",":)",":p",":$",":-h",":-((","x-)","8-)",";-d",":q",":(","b-)",";?",":|",";xx",":--|",";g",":o",":z",":l","p-(",":-bye",":x","|-)",":wipe",":!","8*",":-dig",":t","&-(",":-|",":handclap",">-|",":-f",":-l",":-r","/-showlove",";-x",":-o",";-s",";8","8*)",";!",";f",":;",":+",";-a",":-<",";-!","/-beer","/-coffee","/-rose","/-fade","/-bd","/-bome","/-cake","/-break","/-shit","/-li","/-weak","/-ok","/-v","/-thanks","/-punch","/-share","/-jj","/-no","/-bad","/-loveu","/-flag"],ha={},ma=function(){return 0===Object.entries(ha).length&&ba.forEach((function(e){var t=Object.entries(ga).find((function(t){return t[0]===e}));if(t){var n=t[0],a=t[1];ha[n]=a}})),ha},ja=Object(i.c)((function(e){return{sticker:e.sticker}}),(function(e){return{sendStickerMessage:function(t){return e(Vt(t))},sendEmojiMessage:function(t){return e(Wt(t))}}}))((function(e){var t=e.sticker,n=e.isShow,a=e.sendStickerMessage,c=e.sendEmojiMessage,s=t.categoriesRender,o=t.stickerMap,i=Object(r.useState)("STICKER"),l=Object(u.a)(i,2),d=l[0],f=l[1],p=function(e){e.stopPropagation(),f("STICKER"===d?"EMOJI":"STICKER")},g=n?"":"is-hidden",b="STICKER"===d,h=!b;return Object(aa.jsxs)("div",{id:"modal-emoji-id",className:"modal-emoji ".concat(g," "),children:[Object(aa.jsxs)("div",{className:"modal-header tab",children:[Object(aa.jsx)("button",{className:"tablinks ".concat(b&&"active"),onClick:function(e){return p(e)},children:"STICKER"}),Object(aa.jsx)("button",{className:"tablinks ".concat(h&&"active"),onClick:function(e){return p(e)},children:"EMOJI"})]}),Object(aa.jsx)("hr",{className:"hr-solid"}),Object(aa.jsx)("div",{id:"Sticker",className:"modal-content grid-container tabcontent ".concat(!b&&"is-hidden"," "),children:s.data.map((function(e){var t=o[e.id];return t?Object.keys(t.data).map(Number).map((function(n){var r=t.data[n];return r?Object(aa.jsx)("div",{className:"grid-item",onClick:function(){return function(e){a(e)}({id:n,catId:e.id,type:7})},children:Object(aa.jsx)("img",{className:"sticker",src:r,alt:""})},n):null})).filter((function(e){return null!=e})):null}))}),Object(aa.jsx)("div",{id:"Emoji",className:"modal-content grid-container tabcontent ".concat(!h&&"is-hidden"," "),children:function(){var e=ma();return Object.entries(e).map((function(e){var t=e[0],n=e[1];return Object(aa.jsx)("div",{className:"grid-item",onClick:function(){return function(e){c(e)}(t)},children:Object(aa.jsx)(pa,{keyword:t,position:n})},t)})).filter((function(e){return null!=e}))}()})]})})),va=Object(i.c)((function(e){return{appState:e.app}}),(function(e){return{sendTextMessage:function(t){return e(Wt(t))},sendPhotoMessage:function(t,n){return e(Ft(t,n))},sendVideoMessage:function(t,n){return e(Bt(t,n))},sendFileMessage:function(t,n){return e(qt(t))},sendTypingTextMessage:function(t){return e(function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){var c,s,o,i,u,d;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zchatService,s=a().session.conversationId){t.next=5;break}return t.abrupt("return");case 5:o=a().session,i=o.zoaw_enk,u=o.service_map,d=o.encrWzuId;try{c.sendTyping(u.message,{toId:s,type:e,fdata:"",wzuId:d},i)}catch(n){}case 7:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}(t))}}})),_a=va((function(e){var t=e.appState,n=e.sendTextMessage,a=e.sendPhotoMessage,c=e.sendVideoMessage,s=e.sendFileMessage,o=e.sendTypingTextMessage,i=(e.onToggleFooterView,e.parentUrl),l=Object(r.useState)(!1),d=Object(u.a)(l,2),f=d[0],p=d[1],g=Object(r.useState)(!1),b=Object(u.a)(g,2),h=b[0],m=b[1],j=Object(r.useState)(!1),v=Object(u.a)(j,2),_=v[0],w=v[1],O=Object(r.useRef)(null),y=Object(r.useRef)(null),k=Object(r.useState)({text:"",lastTypingTime:0}),x=Object(u.a)(k,2),I=x[0],S=x[1],N=function(){var e=I.text.trim();""!==e&&(n(e),S({text:"",lastTypingTime:0}),Xn.logSendMessage())};Object(r.useEffect)((function(){var e=document.getElementsByClassName("modal-emoji")[0];document.addEventListener("click",(function(t){e.contains(t.target)||t.target===document.getElementsByClassName("ic-sticker")[0]||p(!1)})),window.addEventListener("focus",(function(){w(!1)}))}));Object(r.useEffect)((function(){try{new Promise((function(e,t){var n=function(){return e(!1)};try{localStorage.length||(localStorage.setItem("inPrivate","0"),localStorage.removeItem("inPrivate")),n()}catch(a){e(!0)}return n()})).then((function(e){if(e)m(!0);else{var t=localStorage.getItem("hintChat_0"),n=localStorage.getItem("hintChat_1");switch([t,n,localStorage.getItem("hintChat_2")].indexOf(null)){case 0:localStorage.setItem("hintChat_0",i),m(!0);break;case 1:t!==i&&(localStorage.setItem("hintChat_1",i),m(!0));break;case 2:t!==i&&n!==i&&(localStorage.setItem("hintChat_2",i),m(!0))}}}))}catch(e){m(!0)}}),[]),Object(r.useEffect)((function(){var e;t.shouldShowBox&&(null===O||void 0===O||null===(e=O.current)||void 0===e||e.focus())}),[t.shouldShowBox]);var z=Object(Qn.a)().t;return Object(aa.jsxs)("div",{className:"input-wrapper",children:[Object(aa.jsx)("div",{className:"hint-input ".concat(h?"hint-input--active":""),children:"Nh\u1eadp c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n t\u1ea1i \u0111\xe2y"}),Object(aa.jsx)("div",{className:"icon-wrapper button btn-show"}),Object(aa.jsx)("input",{ref:O,onKeyDown:function(e){"Enter"===e.key&&N()},onChange:function(e){var t=Date.now(),n=I.lastTypingTime;t-I.lastTypingTime>=M.showTypingDuration&&(o(ye.Text),n=t),S({text:e.target.value,lastTypingTime:n})},value:I.text,type:"text",placeholder:z("chatbox.placeholder")}),Object(aa.jsx)("label",{className:"icon-btn ".concat(_&&"active"),htmlFor:"input-file",onClick:function(){w(!_)},children:Object(aa.jsx)("i",{className:"fal fa-paperclip button"})}),Object(aa.jsx)("div",{className:"attachted-wrapper",children:Object(aa.jsx)("input",{ref:y,style:{display:"none"},onChange:function(e){var t=e.target.files;if(t&&0!==t.length){for(var n=0;n<t.length;n++){var r=t[n];ta(r.type)?a(r,""):na(r.type)?c(r,""):s(r,"")}y&&y.current&&(y.current.value="")}},name:"file",id:"input-file",multiple:!0,type:"file"})}),Object(aa.jsx)("label",{className:"icon-btn ".concat(f&&"active"),onClick:function(){p(!f)},children:Object(aa.jsx)("i",{className:"icon ic-sticker button",children:Object(aa.jsx)(ja,{isShow:f})})})]})})),wa=Object(i.c)((function(e){return{}}),(function(e){return{onSendHashtagMessage:function(t){return e((n=t,function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,a,r){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Date.now(),e.prev=1,e.next=4,Kt(n,c,t,a,r);case 4:oe(e.sent)||nn(a(),c,t,G.Error),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),nn(a(),c,t,G.Error);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()));var n}}})),Oa=wa((function(e){var t,n,a,c=e.subMenu,s=e.onSendHashtagMessage,o=Object(r.useRef)(null),i=Object(r.useState)(!1),l=Object(u.a)(i,2),d=l[0],f=l[1];Object(r.useEffect)((function(){function e(e){o.current&&!o.current.contains(e.target)&&f(!1)}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[o]);var p=Object(r.useCallback)((function(e){e&&e.startsWith("#")&&s(e)}),[s]),g=Object(r.useCallback)((function(){var e;Ke(c.menuData)?window.open(c.menuData,"_blank"):null!==(e=c.listSubMenu)&&void 0!==e&&e.length?f(!d):p(c.menuData)}),[d,c,p]),b=Object(r.useCallback)((function(e){Ke(e)?window.open(e,"_blank"):p(e)}),[p]);return Object(aa.jsxs)("div",{className:"menu-item same-width".concat(null!==(t=c.listSubMenu)&&void 0!==t&&t.length?" drop-up":""),ref:o,onClick:g,children:[Object(aa.jsx)("span",{className:"one-line button",children:c.menuName}),!(null===(n=c.listSubMenu)||void 0===n||!n.length)&&Object(aa.jsxs)(aa.Fragment,{children:[Object(aa.jsx)("div",{className:"collapse circle-icon",children:Object(aa.jsx)("i",{className:"icon ".concat(d?"ic-arrow-down":"ic-arrow-up")})}),Object(aa.jsxs)("div",{className:"drop-up-content",style:{display:d?"block":"none"},children:[null===(a=c.listSubMenu)||void 0===a?void 0:a.map((function(e){return Object(aa.jsx)("a",{onClick:function(){return b(e.subMenuData)},children:e.subMenuName},e.subMenuId)})),Object(aa.jsx)("div",{className:"arrow-down-triangle"})]})]})]})})),ya=(n(284),function(e){var t=e.oaMenu,n=e.onToggleFooterView;return t&&t.length?Object(aa.jsxs)("div",{className:"menu-wrapper footer",children:[Object(aa.jsx)("div",{className:"menu-wrapper__left",children:Object(aa.jsx)(ua,{iconName:"ic-keyboard-line",handleClick:n})}),Object(aa.jsx)("div",{className:"menu-wrapper__right",children:Object(aa.jsx)("div",{className:"action-container",children:t.map((function(e){return Object(aa.jsx)(Oa,{subMenu:e},e.menuId)}))})})]}):null}),ka=function(e){var t=e.msg;return Object(aa.jsx)(aa.Fragment,{children:function(){if(t){if(!function(e){var t=Object.entries(ma()).find((function(t){var n=t[0];return e.toLowerCase().includes(n)}));return t?{keyword:t[0],position:t[1]}:null}(t))return t;var e=function(e,t){var n=[e];return t.sort((function(e,t){return t.keyword.length-e.keyword.length})),t.forEach((function(e){return n=function(e,n){return e.flatMap((function(e){if(t.find((function(t){return t.keyword===e})))return[e];for(var a=e.split(n.keyword),r=1;r<a.length;r+=2)a.splice(r,0,n.keyword);return a}))}(n,e)})),n.map((function(e){return function(e){var n=t.find((function(t){return t.keyword===e}));return Object(aa.jsxs)(aa.Fragment,{children:[n&&Object(aa.jsx)(pa,{className:"zemoji",keyword:n.keyword,position:n.position}),!n&&e]})}(e)})).concat()},n=function(t){var n=function(e){var t=[];return Object.entries(ma()).forEach((function(n){var a=n[0];e.toLowerCase().includes(a)&&t.push({keyword:n[0],position:n[1]})})),t.length?t:null}(t);return Object(aa.jsxs)(aa.Fragment,{children:[n&&e(t,n),!n&&t," "]})};return t.split(" ").map((function(e,t){var a=n(e);return Object(aa.jsx)(c.a.Fragment,{children:a},t)})).concat()}}()})},xa=Object(i.c)((function(e){var t,n;return{replyingMessage:e.messaging.replyingMsg,oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name,oaMenu:null===(n=e.app.oaInfo)||void 0===n?void 0:n.oaMenu}}),(function(e){return{removeReplyingMessage:function(){return e(Zt())}}}))((function(e){var t=e.replyingMessage,n=(e.oaName,e.oaMenu),a=e.removeReplyingMessage,c=e.showMessageView,s=e.parentUrl,o=Object(r.useState)(!1),i=Object(u.a)(o,2),l=i[0],d=i[1],f=Object(r.useCallback)((function(){null!==n&&void 0!==n&&n.length&&d(!l)}),[l,null===n||void 0===n?void 0:n.length]),p=function(e){wt.a.changeLanguage(e)},g=function(){a()},b=Object(Qn.a)().t;return t&&l&&d(!1),Object(aa.jsx)("div",{className:"box__footer",children:Object(aa.jsxs)("div",{className:"footer-wrapper",children:[c&&t&&function(){if(t){var e=Ot(t)||"";switch(t.msgType){case we.Text:return function(e,t){return Object(aa.jsx)("div",{className:"reply-wrapper",children:Object(aa.jsx)("div",{className:"card__reply",children:Object(aa.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(aa.jsxs)("div",{className:"reply__info",children:[Object(aa.jsxs)("p",{className:"reply__name",children:["Tr\u1ea3 l\u1eddi ",Object(aa.jsx)("span",{className:"text-bold",children:t})]}),Object(aa.jsx)("div",{className:"reply__content has-one-line",children:Object(aa.jsx)(ka,{msg:e})})]}),Object(aa.jsx)("i",{className:"icon ic-close",onClick:g})]})})})}(t.content,e);case we.Photo:return function(e,t){return Object(aa.jsx)("div",{className:"reply-wrapper",children:Object(aa.jsx)("div",{className:"card__reply",children:Object(aa.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(aa.jsx)("figure",{className:"reply__image image",children:Object(aa.jsx)("img",{src:e.href,alt:""})}),Object(aa.jsxs)("div",{className:"reply__info",children:[Object(aa.jsxs)("p",{className:"reply__name",children:[b("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:t})]}),Object(aa.jsxs)("div",{className:"reply__content has-one-line",children:["[",b("reply.image"),"]"]})]}),Object(aa.jsx)("i",{className:"icon ic-close",onClick:g})]})})})}(t.content,e);case we.Video:return function(e,t){return Object(aa.jsx)("div",{className:"reply-wrapper",children:Object(aa.jsx)("div",{className:"card__reply",children:Object(aa.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(aa.jsx)("figure",{className:"reply__image image",children:Object(aa.jsx)("img",{src:e.thumb,alt:""})}),Object(aa.jsxs)("div",{className:"reply__info",children:[Object(aa.jsxs)("p",{className:"reply__name",children:[b("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:t})]}),Object(aa.jsxs)("div",{className:"reply__content has-one-line",children:["[",b("reply.video"),"]"]})]}),Object(aa.jsx)("i",{className:"icon ic-close",onClick:g})]})})})}(t.content,e);case we.File:return function(e,t){return Object(aa.jsx)("div",{className:"reply-wrapper",children:Object(aa.jsx)("div",{className:"card__reply",children:Object(aa.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(aa.jsx)("figure",{className:"reply__image image",children:Object(aa.jsx)("i",{className:"icon ic-file-grey"})}),Object(aa.jsxs)("div",{className:"reply__info",children:[Object(aa.jsxs)("p",{className:"reply__name",children:[b("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:t})]}),Object(aa.jsxs)("div",{className:"reply__content has-one-line",children:["[",b("reply.file"),"] ",e.title]})]}),Object(aa.jsx)("i",{className:"icon ic-close",onClick:g})]})})})}(t.content,e);case we.Sticker:return function(e,t){return Object(aa.jsx)("div",{className:"reply-wrapper",children:Object(aa.jsx)("div",{className:"card__reply",children:Object(aa.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(aa.jsx)("figure",{className:"reply__image image",children:Object(aa.jsx)("img",{src:zt(e),alt:""})}),Object(aa.jsxs)("div",{className:"reply__info",children:[Object(aa.jsxs)("p",{className:"reply__name",children:[b("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:t})]}),Object(aa.jsxs)("div",{className:"reply__content has-one-line",children:["[",b("reply.sticker"),"]"]})]}),Object(aa.jsx)("i",{className:"icon ic-close",onClick:g})]})})})}(t.content,e);case we.Chat_Recommeneded:return function(e,t){return Object(aa.jsx)("div",{className:"reply-wrapper",children:Object(aa.jsx)("div",{className:"card__reply",children:Object(aa.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(aa.jsx)("figure",{className:"reply__image image",children:Object(aa.jsx)("img",{src:e.thumb,alt:""})}),Object(aa.jsxs)("div",{className:"reply__info",children:[Object(aa.jsxs)("p",{className:"reply__name",children:[b("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:t})]}),Object(aa.jsxs)("div",{className:"reply__content has-one-line wb-break-all",children:["[",b("reply.link"),"] ",e.href]})]}),Object(aa.jsx)("i",{className:"icon ic-close",onClick:g})]})})})}(t.content,e)}}}(),c&&!l&&Object(aa.jsx)(_a,{onToggleFooterView:f,parentUrl:s}),c&&l&&Object(aa.jsx)(ya,{oaMenu:n,onToggleFooterView:f}),!c&&Object(aa.jsx)("div",{className:"footer-wrapper",children:Object(aa.jsxs)("div",{className:"language-change-wrapper",children:[Object(aa.jsx)("div",{className:"vi"===wt.a.language?"zbtn zbtn-info":"zbtn zbtn-clear",onClick:function(){return p("vi")},children:b("lang.vie")}),Object(aa.jsx)("div",{className:"en"===wt.a.language?"zbtn zbtn-info":"zbtn zbtn-clear",onClick:function(){return p("en")},children:b("lang.eng")})]})})]})})})),Ia=function(){var e=document.getElementsByClassName("card__reaction");Array.from(e).forEach((function(e){return e.classList.add("is-hidden")}))},Sa=function(e){var t=e.msgData,n=e.msgInfo,a=e.handleReplyMessage;e.hanldeReactMessage,Object(r.useRef)(null);c.a.useEffect((function(){return window.addEventListener("click",Ia),function(){window.removeEventListener("click",Ia)}}),[]);var s,o=(s=n).state===G.Sent||s.state===G.Delivered||s.state===G.Seen;return Object(aa.jsxs)(aa.Fragment,{children:[Object(aa.jsxs)("div",{className:"card__actionholder",children:[false,o&&Object(aa.jsx)("a",{className:"btn-wrapper",onClick:function(){a(t)},children:Object(aa.jsx)("i",{className:"icon ic-reply"})})]}),false]})},Na=function(e){var t,n=e.children,a=e.msgData,c=e.msgInfo,s=e.readonly,o=e.doResend,i=e.doQuote,l=Object(r.useRef)(null),d=Object(r.useState)(!1),f=Object(u.a)(d,2),p=f[0],g=f[1],b=kt(a),h=St(c),m=(t=a,[we.Text,we.Reaction,we.Sticker,we.Chat_Recommeneded].find((function(e){return e===t.msgType})));return Object(aa.jsxs)("div",{className:"card__wrapper",ref:l,onMouseOver:function(){return g(!0)},onMouseOut:function(e){return function(e){var t,n=e.relatedTarget;null!==(t=l.current)&&void 0!==t&&t.contains(n)||g(!1)}(e)},children:[Object(aa.jsxs)("div",{className:"message__content",children:[Object(aa.jsx)(aa.Fragment,{children:n}),b&&h&&m&&Object(aa.jsx)("a",{className:"btn-resend",onClick:function(){o(a,c)},children:Object(aa.jsx)("i",{className:"fal fa-redo",style:{color:"white"}})})]}),!s&&p&&Object(aa.jsx)(Sa,{msgData:a,msgInfo:c,handleReplyMessage:function(){i(a)},hanldeReactMessage:function(){}})]})},za=function(e){var t=e.msgData,n=e.msgInfo,a=e.isHidden,r=Object(Qn.a)().t,c=Object(aa.jsxs)("div",{className:"status-container",children:[Object(aa.jsx)("i",{className:"icon-stt ic-check"})," "," ",r("messagestatus.sent")]}),s=Object(aa.jsxs)("div",{className:"status-container",children:[Object(aa.jsx)("i",{className:"icon-stt ic-double-check",children:" "})," "," ",r("messagestatus.received")]}),o=Object(aa.jsxs)("div",{className:"status-container",children:[Object(aa.jsx)("i",{className:"icon-stt ic-seen"})," "," \u0110\xe3 xem"]}),i=Object(aa.jsxs)("div",{className:"status-container",children:[Object(aa.jsx)("i",{className:"fal fa-clock"})," "," ",r("messagestatus.sending")]}),u=Object(aa.jsxs)("div",{className:"status-container text-warning",children:[Object(aa.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.error")]}),l=Object(aa.jsxs)("div",{className:"status-container text-warning",children:[Object(aa.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.errorTooBigFile")]}),d=Object(aa.jsxs)("div",{className:"status-container text-warning",children:[Object(aa.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.errorTooBigPhoto")]}),f=n.state;if(f===G.Sending)return i;if(f===G.Uploading)return i;if(f===G.Error)return u;if(f===G.ErrorTooBigFile)return l;if(f===G.ErrorTooBigPhoto)return d;if(a||!function(e){var t=_t;return kt(e)&&e.cliMsgId===t.getState().messaging.myLastMsgId}(t)||function(e){var t=_t.getState().messaging,n=t.messagesInfo[e.cliMsgId].index,a=t.messages[n+1];return!!a&&e.srcId!==a.srcId}(t))return Object(aa.jsx)(aa.Fragment,{});switch(f){case G.Sent:return c;case G.Delivered:return s;case G.Seen:return o;default:return Object(aa.jsx)(aa.Fragment,{})}},Ca=Object(i.c)((function(e){return{}}),(function(e){return{sendTextMessage:function(t,n){return e(Wt(t,n))},sendStickerMessage:function(t){return e(Vt(t))},replyMessage:function(t){return e({type:B,payload:{message:t}})}}}))((function(e){var t=e.children,n=e.msgData,a=e.msgInfo,r=e.readonly,c=e.sendTextMessage,s=e.sendStickerMessage,o=e.replyMessage;return Object(aa.jsxs)("div",{className:"card",children:[Object(aa.jsx)(Na,{msgData:n,msgInfo:a,doResend:function(e,t){if(St(t))switch(e.msgType){case we.Text:case we.Reaction:case we.Chat_Recommeneded:var n,a=e.content,r=null===(n=e.quote)||void 0===n?void 0:n.quotedMessage;c(a,r);break;case we.Sticker:var o=e.content,i=o.catId,u=o.id;s({id:u,catId:i,type:7})}},doQuote:function(){o(n)},readonly:r,children:t}),Object(aa.jsx)(za,{isHidden:r,msgData:n,msgInfo:a})]})})),Ma=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,c=Object(r.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(!0),d=Object(u.a)(l,2),f=d[0],p=d[1],g=Object(r.useRef)(null),b=null===t||void 0===t?void 0:t.content,h=""!==b.parsedParams.m4a?b.parsedParams.m4a:b.hrefs[0];h=function(e,t){var n=e.replace("https","http").replace("http","https");return n.endsWith(".amr")?"https://cache.voice.talk.zdn.vn/mp3?url=".concat(encodeURIComponent(n),"&msgid=").concat(t):n}(h,null===t||void 0===t?void 0:t.msgId);return Object(aa.jsx)(Ca,{msgData:t,msgInfo:n,readonly:a,children:Object(aa.jsxs)("div",{className:"card__content inline",children:[f?Object(aa.jsx)("img",{className:"clickable",src:"/static/images/ic-playable.svg",alt:""}):Object(aa.jsx)("img",{className:"clickable",src:"/static/images/icon-pause.svg",alt:""}),Object(aa.jsx)("img",{className:"sound-bar",src:"/static/images/ic-voice-bar.svg",alt:""}),Object(aa.jsx)("span",{children:o}),Object(aa.jsx)("audio",{id:"voice",controls:!0,ref:g,onLoadedData:function(){var e,t,n=null!==(e=null===g||void 0===g||null===(t=g.current)||void 0===t?void 0:t.duration)&&void 0!==e?e:0,a=new Date(1e3*n),r=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},c=r(a.getMinutes()),s=r(a.getSeconds());i(c+":"+s)},onEnded:function(){return p(!0)},style:{display:"none"},children:Object(aa.jsx)("source",{src:h,type:"audio/mp4"})})]})})},Ea=Object(i.c)((function(e){return{}}),(function(e){return{loadHistoryChat:function(t){return e(function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n){var a;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=ke.createLoadHistoryChat({conversationId:e}),n(An(a)),t.abrupt("return",ae.Success);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}})),Ta=Ea((function(e){var t=e.msgData,n=e.msgInfo,a=e.loadHistoryChat,c=Object(Qn.a)().t,s=t.content,o=s.totalMsg||"0",i=Object(r.useCallback)((function(){a(s.conversationId);var e,t,n,r=window.zsp_max_width,c=window.zsp_max_height;e=r,t=c,n=!0,window.onChangeSizeIframe(e,t,n)}),[s,a]);return Object(aa.jsx)(Ca,{msgData:t,msgInfo:n,readonly:!0,children:Object(aa.jsxs)("div",{className:"card__content card__history",children:[Object(aa.jsxs)("div",{children:[Object(aa.jsxs)("h3",{children:[c("chathistory.title"),"."]}),1===Number(o)?Object(aa.jsx)("p",{children:"".concat(o," ").concat(c("chathistory.oldmessage"))}):Object(aa.jsx)("p",{children:"".concat(o," ").concat(c("chathistory.oldmessages"))})]}),Object(aa.jsx)("div",{className:"hr-solid is-margin-topbot"}),Object(aa.jsx)("div",{className:"zbtn zbtn-primary",onClick:i,children:c("chathistory.view")})]})})})),Da=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,s=Object(r.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],d=Object(r.useRef)(null);c.a.useEffect((function(){var e=function(){document.fullscreenElement||l(!1)},t=d.current;return null===t||void 0===t||t.addEventListener("fullscreenchange",e),function(){null===t||void 0===t||t.removeEventListener("visibilitychange",e)}}),[]);var f=t.content;return Object(aa.jsxs)(Ca,{msgData:t,msgInfo:n,readonly:a,children:[Object(aa.jsx)("figure",{className:"card__image image button",onClick:function(){var e;l(!0),null===(e=d.current)||void 0===e||e.requestFullscreen()},children:Object(aa.jsx)("img",{src:f.href,alt:f.description})}),Object(aa.jsx)("div",{ref:d,className:"image-container",children:Object(aa.jsx)("div",{className:" modal ".concat(i?"show":"hide"," "),children:Object(aa.jsx)("div",{className:"modal-content",ref:d,children:Object(aa.jsx)("div",{children:Object(aa.jsx)("img",{src:f.href,alt:f.description})})})})})]})},Pa=function(e){var t,n,a=e.msgData,r=e.msgInfo,c=e.thumb,s=e.qmsg,o=Object(Qn.a)().t,i=a.content,u=(null===(t=a.quote)||void 0===t?void 0:t.cliMsgType)===we.File?Object(aa.jsx)("i",{className:"icon ic-file"}):Object(aa.jsx)("img",{src:c,alt:""}),l=yt(a);return Object(aa.jsxs)("div",{className:"card__content ".concat(It(r)),children:[Object(aa.jsxs)("div",{className:"card__reply is-flex fs-13",children:[Object(aa.jsx)("figure",{className:"card__reply__image image",children:u}),Object(aa.jsxs)("div",{className:"card__reply__wrapper",children:[Object(aa.jsxs)("p",{className:"card__reply__name",children:[o("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:l})]}),Object(aa.jsx)("div",{className:"card__reply__content has-one-line",children:s||(null===(n=a.quote)||void 0===n?void 0:n.message)})]})]}),Object(aa.jsx)("span",{children:i})]})},Aa=function(e){var t,n=e.msgData,a=e.msgInfo,r=(e.stickerMap,null===(t=n.quote)||void 0===t?void 0:t.parsedAttach),c=zt(r);return Object(aa.jsx)(Pa,{msgData:n,msgInfo:a,thumb:c,qmsg:"[Sticker]"})},Ra=function(e){var t,n=e.msgData,a=e.msgInfo,r=Object(Qn.a)().t,c=n.content,s=yt(n);return Object(aa.jsxs)("div",{className:"card__content ".concat(It(a)),children:[Object(aa.jsxs)("div",{className:"card__reply fs-13",children:[Object(aa.jsxs)("p",{className:"card__reply__name",children:[r("reply.reply")," ",Object(aa.jsx)("span",{className:"text-bold",children:s})]}),Object(aa.jsx)("div",{className:"card__reply__content has-one-line",children:Object(aa.jsx)(ka,{msg:null===(t=n.quote)||void 0===t?void 0:t.message})})]}),Object(aa.jsx)(ka,{msg:c})]})},Ua=function(e){var t=e.msgData,n=e.msgInfo,a=e.stickerMap,r=e.readonly;return Object(aa.jsx)(Ca,{msgData:t,msgInfo:n,readonly:r,children:function(){var e;switch(null===(e=t.quote)||void 0===e?void 0:e.cliMsgType){case we.Text:return Object(aa.jsx)(Ra,{msgData:t,msgInfo:n});case we.Video:var r,c=null===(r=t.quote)||void 0===r?void 0:r.parsedAttach;return Object(aa.jsx)(Pa,{msgData:t,msgInfo:n,qmsg:"[Video]",thumb:c.thumb});case we.Photo:var s,o=null===(s=t.quote)||void 0===s?void 0:s.parsedAttach;return Object(aa.jsx)(Pa,{msgData:t,msgInfo:n,qmsg:"[Image]",thumb:o.href});case we.Chat_Recommeneded:var i,u=null===(i=t.quote)||void 0===i?void 0:i.parsedAttach,l=(null===u||void 0===u?void 0:u.thumb)||"",d="[Link] ".concat((null===u||void 0===u?void 0:u.href)||"");return Object(aa.jsx)(Pa,{msgData:t,msgInfo:n,qmsg:d,thumb:l});case we.Sticker:return Object(aa.jsx)(Aa,{msgData:t,msgInfo:n,stickerMap:a});case we.File:var f,p=null===(f=t.quote)||void 0===f?void 0:f.parsedAttach;return Object(aa.jsx)(Pa,{msgData:t,msgInfo:n,qmsg:"[File] ".concat(null===p||void 0===p?void 0:p.title),thumb:null===p||void 0===p?void 0:p.href});default:return Object(aa.jsx)(aa.Fragment,{})}}()})},La=function(e){var t,n,a,r,c=e.msgData,s=e.msgInfo,o=e.readonly,i=c.content;return Object(aa.jsx)(Ca,{msgData:c,msgInfo:s,readonly:o,children:Object(aa.jsx)("div",{className:"card__content back-ground-grey",children:Object(aa.jsxs)("div",{className:"card__link",children:[i.message?i.message.split(" ").map((function(e,t){return 0===e.indexOf("http://")||0===e.indexOf("https://")?Object(aa.jsx)("a",{href:i.href,className:"mb-8 link color-blue",rel:"noreferrer",target:"_blank",children:0===t?e:" ".concat(e)},t):Object(aa.jsx)("span",{style:{color:"black",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:0===t?e:" ".concat(e)},t)})):Object(aa.jsx)("a",{href:i.href,className:"mb-8 link color-blue",rel:"noreferrer",target:"_blank",children:i.href}),Object(aa.jsxs)("a",{href:i.href,rel:"noreferrer",target:"_blank",children:[Object(aa.jsx)("figure",{className:"image is-ratio mb-8",children:Object(aa.jsx)("img",{src:i.thumb,alt:""})}),Object(aa.jsxs)("div",{className:"link-desc",children:[(null===(t=i.parsedParams)||void 0===t?void 0:t.src)&&Object(aa.jsx)("p",{className:"color-blue mb-4 fs-12",children:Xe(null===(n=i.parsedParams)||void 0===n?void 0:n.src)}),(null===(a=i.parsedParams)||void 0===a?void 0:a.mediaTitle)&&Object(aa.jsx)("p",{className:"title color-black text-bold mb-4",children:null===(r=i.parsedParams)||void 0===r?void 0:r.mediaTitle}),i.description&&Object(aa.jsx)("p",{className:"content color-grey fs-12",children:i.description})]})]})]})})})},qa=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly;return t.content.action===Oe.Link?Object(aa.jsx)(La,{msgData:t,msgInfo:n,readonly:a}):Object(aa.jsx)("div",{children:"Ch\u01b0a h\u1ed7 tr\u1ee3 lo\u1ea1i tin nh\u1eafn n\xe0y!"})},Fa=function(e){var t,n=e.msgData,a=e.msgInfo,r=e.readonly,c=n.content,s=c.title,o=(null===(t=c.parsedParams)||void 0===t?void 0:t.fileSize)||c.size,i=c.href;return Object(aa.jsx)(Ca,{msgData:n,msgInfo:a,readonly:r,children:Object(aa.jsx)("div",{className:"card__content back-ground-grey",children:Object(aa.jsxs)("div",{className:"card__file is-flex",children:[Object(aa.jsx)("figure",{className:"quote-media image",children:Object(aa.jsx)("i",{className:"icon ic-file-grey"})}),Object(aa.jsxs)("div",{className:"file-info",children:[Object(aa.jsxs)("p",{className:"file-name color-black text-bold",children:[Object(aa.jsx)("span",{className:"first",children:s.substring(0,s.length-10)}),Object(aa.jsx)("span",{className:"last",children:s.substring(s.length-10,s.length)})]}),!!o&&Object(aa.jsxs)("div",{className:"text-desc",children:[o/1e3," KB"]})]}),Object(aa.jsx)("figure",{className:"icon-download-container image btn-download",children:Object(aa.jsx)("div",{className:"icon-download-holder",children:Object(aa.jsx)("a",{href:i,children:Object(aa.jsx)("i",{className:"icon ic-download"})})})})]})})})},Ba=Object(i.c)((function(e){return{}}),(function(e){return{updateStickerValue:function(t,n){return e(le(t,n))}}}))((function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,c=e.updateStickerValue,s=t.content,o=s.catId,i=s.id,f=Object(r.useState)(""),p=Object(u.a)(f,2),g=p[0],b=p[1];return Object(r.useEffect)((function(){var e=function(e){if(e){var t={};t[i]=e,c(o,{status:Y.Downloaded,data:{},extData:t}),b(e)}},t=function(){var t=Object(d.a)(Object(l.a)().mark((function t(){var n,a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve.getStickerUrl(o,i);case 2:a=t.sent,r=null!==(n=a.data.url)&&void 0!==n?n:"",e(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=zt(s);g?e(n):t()}),[o,i,g]),Object(aa.jsx)(Ca,{msgData:t,msgInfo:n,readonly:a,children:Object(aa.jsx)("figure",{className:"card__sticker image",children:Object(aa.jsx)("img",{src:g,alt:"sticker",style:{width:100,height:100}})})})})),Va=Ba,Za=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=t.content,c=t.content;return c.startsWith("#")&&function(e){var t,n=null===(t=_t.getState().app.oaInfo)||void 0===t?void 0:t.oaMenu,a=!1;return null!==n&&void 0!==n&&n.length&&n.forEach((function(t){if(!a){if(""===t.menuData){var n=t.listSubMenu;n&&n.length&&n.forEach((function(t){a||t.subMenuData!==e||(a=!0)}))}t.menuData===e&&(a=!0)}})),a}(c)?null:Object(aa.jsx)(Ca,{msgData:t,msgInfo:n,readonly:a,children:Object(aa.jsx)("div",{className:"card__content ".concat(It(n)),children:Object(aa.jsx)(ka,{msg:r})})})},Wa=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,s=Object(r.useRef)(null),o=Object(r.useRef)(null),i=Object(r.useState)(""),l=Object(u.a)(i,2),d=l[0],f=l[1],p=Object(r.useState)(!1),g=Object(u.a)(p,2),b=g[0],h=g[1],m=Object(r.useState)(!1),j=Object(u.a)(m,2),v=j[0],_=j[1];c.a.useEffect((function(){var e=function(){return h(!0)},t=function(){return h(!1)},n=o.current;return null===n||void 0===n||n.addEventListener("play",e),null===n||void 0===n||n.addEventListener("pause",t),function(){null===n||void 0===n||n.removeEventListener("play",e),null===n||void 0===n||n.removeEventListener("pause",t)}}),[]);var w=t.content,O=function(){var e,t;null!==(e=o.current)&&void 0!==e&&e.paused?o.current.play():null===(t=o.current)||void 0===t||t.pause()};return Object(aa.jsx)(Ca,{msgData:t,msgInfo:n,readonly:a,children:Object(aa.jsxs)("figure",{ref:s,className:"card__image image video",children:[Object(aa.jsx)("video",{ref:o,src:w.href,style:{width:"100%",height:"100%"},poster:w.thumb,controls:b,controlsList:"nodownload",disablePictureInPicture:!0,onEnded:function(){return h(!1)},onLoadedMetadata:function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.duration;if(void 0!==t){var n=new Date(1e3*t),a=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},r=a(n.getMinutes()),c=a(n.getSeconds());f(r+":"+c)}else f("--:--")},onMouseOver:function(){return _(!0)},onMouseOut:function(e){return function(e){var t,n=e.relatedTarget;null!==(t=s.current)&&void 0!==t&&t.contains(n)||_(!1)}(e)},onDoubleClick:function(){window.FullScreen.isOn()?window.FullScreen.close():window.FullScreen.open(s.current)},onClick:function(){var e;null===(e=o.current)||void 0===e||e.play()}}),b&&v&&Object(aa.jsx)("img",{className:"video-btn-play",src:"/static/images/ic-pause.svg",onClick:O,alt:""}),!b&&Object(aa.jsxs)(aa.Fragment,{children:[Object(aa.jsx)("div",{className:"time-video",children:d}),Object(aa.jsx)("img",{className:"video-btn-play",src:"/static/images/ic-play.svg",onClick:O,alt:""})]})]})})},Ga=function(e){return null==e},Ha=Object(i.c)((function(e){var t;return{messaging:e.messaging,stickerMap:e.sticker.stickerMap,app:e.app,session:e.session,oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name}}),(function(e){return{}}))((function(e){var t,n=e.messaging,a=e.stickerMap,s=e.app,o=e.oaName,i=Object(Qn.a)().t,u=Object(r.useRef)(null);Object(r.useEffect)((function(){l()}),[n]);var l=function(){null!==u.current&&u.current.scrollIntoView()},d=function(e){var t=n.messagesInfo[e.cliMsgId],r=e.cliMsgId||e.msgId;switch(e.msgType){case we.Text:return!Ga(e.quote)?Object(aa.jsx)(Ua,{msgData:e,msgInfo:t,stickerMap:a},r):Object(aa.jsx)(Za,{msgData:e,msgInfo:t,readonly:e.cliMsgId===n.messages[0].cliMsgId},r);case we.Photo:return Object(aa.jsx)(Da,{msgData:e,msgInfo:t},r);case we.Video:return Object(aa.jsx)(Wa,{msgData:e,msgInfo:t},r);case we.Sticker:return Object(aa.jsx)(Va,{msgData:e,msgInfo:t},r);case we.Chat_Recommeneded:return Object(aa.jsx)(qa,{msgData:e,msgInfo:t},r);case we.File:return Object(aa.jsx)(Fa,{msgData:e,msgInfo:t},r);case we.Conversation:return Object(aa.jsx)(Ta,{msgData:e,msgInfo:t},r);case we.Audio:return Object(aa.jsx)(Ma,{msgData:e,msgInfo:t},r);default:return null}},f=function(e){var t=e.messages,n=e.isSeparated;if(0===t.length)return null;var a=kt(t[0]),r=t[0].cliMsgId||t[0].msgId||"",o=function(e){var t=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},n=new Date(e),a=t(n.getHours()),r=t(n.getMinutes()),c=t(n.getFullYear()),s=t(n.getMonth()+1),o=t(n.getDate()),i=new Date;return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()?"".concat(a,":").concat(r," H\xf4m nay"):"".concat(a,":").concat(r," ").concat(o,"/").concat(s,"/").concat(c)}(Number.parseInt(t[0].cliMsgId));return Object(aa.jsxs)(c.a.Fragment,{children:[n&&Object(aa.jsx)("div",{className:"text-center",children:Object(aa.jsx)("p",{className:"time",children:o})}),a?Object(aa.jsx)("div",{className:"media is-user",children:Object(aa.jsx)("div",{className:"media-left",children:t.map(d)})}):function(){var e;return Object(aa.jsxs)("div",{className:"media",children:[Object(aa.jsx)("figure",{className:"image avatar media-left",children:Object(aa.jsx)("img",{src:null===(e=s.oaInfo)||void 0===e?void 0:e.avatar,alt:""})}),Object(aa.jsx)("div",{className:"media-right",children:t.map(d)})]})}()]},r)},p=function(){var e=[],t=n.messages;if(0===t.length)return e;var a={messages:[],isSeparated:!0},r=t[0];return t.forEach((function(t){var n=kt(t)===kt(r),c=function(e,t){var n=Number.parseInt(e.cliMsgId),a=Number.parseInt(t.cliMsgId);return Math.abs(n-a)<M.conversationDuration}(t,r);n&&c?a.messages.push(t):(e.push(a),r=t,a={messages:[t],isSeparated:!c})})),e.push(a),e[0].isSeparated=!1,e.length>1&&(e[1].isSeparated=!0),e},g=n.initState,b=A.Initialized===g||A.Loading===g;return Object(aa.jsxs)("div",{className:"box__body",children:[Object(aa.jsxs)("div",{className:"noti-remind",children:["B\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n nhanh v\u1edbi ".concat(o,"."),Object(aa.jsx)("br",{}),"Th\xf4ng tin c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c \u1ea9n v\xe0 tin nh\u1eafn tr\xf2 chuy\u1ec7n ch\u1ec9 l\u01b0u tr\xean tr\xecnh duy\u1ec7t web."]}),b?Object(aa.jsx)("div",{}):p().map(f),n.typing.onGoing&&Object(aa.jsx)("div",{className:"zs-section-typing",children:Object(aa.jsxs)("span",{children:[(null===(t=s.oaInfo)||void 0===t?void 0:t.name)+" "+i("messagestatus.typing"),Object(aa.jsx)("i",{className:"zs-typing-loading"})]})}),Object(aa.jsx)("div",{ref:u})]})})),Ja=function(e){var t=e.handleLoginWidget,n=e.oaInfo,a=Object(Qn.a)().t,r=(null===n||void 0===n?void 0:n.name)||"",c=a("welcomebox.hint").replace("<oa_name>",r);return Object(aa.jsx)("div",{className:"box__body",children:Object(aa.jsx)("div",{className:"bounding",children:Object(aa.jsxs)("div",{className:"center-items",children:[Object(aa.jsx)("div",{children:Object(aa.jsx)("p",{className:"text-hint-welcome",children:c})}),Object(aa.jsx)("div",{className:"zbtn zbtn-primary welcome text-welcome",onClick:function(){return t(me.Zalo)},children:a("welcomebox.aszalo")}),(null===n||void 0===n?void 0:n.guestEnabled)&&Object(aa.jsx)("div",{className:"zbtn zbtn-normal welcome text-welcome",onClick:function(){return t(me.Anonymous)},children:a("welcomebox.asguest")})]})})})},Ka=Object(i.c)((function(e){return{appState:e.app,sessionState:e.session}}),(function(e){return{sessionThunkActions:Object(pe.b)(a,e)}}))((function(e){var t=e.sessionThunkActions,n=e.appState,a=e.sessionState,c=Object(r.useRef)(null),s=Object(r.useRef)(!1),o=Object(r.useRef)(null),i=Object(r.useRef)(null),l=Object(r.useRef)(null),d=Object(r.useRef)(null),f=Object(r.useRef)(null),p=Object(r.useRef)(null),g=Object(r.useState)(!1),b=Object(u.a)(g,2),h=b[0],m=b[1],j=Object(r.useState)(""),v=Object(u.a)(j,2),_=v[0],w=v[1];Object(r.useEffect)((function(){window.addEventListener("message",(function(e){return w(e.data.url)}))}),[]),Object(r.useEffect)((function(){var e=function(e){if(!/^react-devtools/gi.test(e.data.source))switch(p.current&&clearInterval(p.current),e.data){case M.login.callbackMessage:!function(){var e;o.current&&clearInterval(o.current),null===(e=c.current)||void 0===e||e.close(),t.getSessionInfo(me.Zalo)}();break;case M.upgrade.callbackMessage:!function(){var e;l.current&&clearInterval(l.current),null===(e=i.current)||void 0===e||e.close(),t.upgradeSessionInfo()}();break;case M.zalopc.callbackMessage:!function(){var e;f.current&&clearInterval(f.current),null===(e=d.current)||void 0===e||e.close(),t.loadSessionForNewTab().then((function(e){e===ae.Success&&Gn.openZaloPc()}))}()}};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e)}}),[t]);var O=function(e,t,n,a){t.current=ca(e);var r,c=setInterval((function(){var e;null!==(e=t.current)&&void 0!==e&&e.closed&&(clearInterval(c),a(),xn.postMessage(yn.UPGRADE_CONVERSATION))}),e.checkClosedInterval);n.current=c,p.current=(r=e.callbackMessage,setInterval((function(){return He.getZUserInfo().then((function(e){se(e)&&window.postMessage(r,"*")}))}),3e3))},y=a.status===A.Done&&a.conversationType!==me.Unknown;return n.status!==A.Done?null:Object(aa.jsxs)("div",{className:"box-wrapper",onDragOver:function(){return m(!0)},children:[Object(aa.jsx)(fa,{upgradeUser:function(){var e=function(){return O(M.upgrade,i,l,(function(){}))};n.zuserInfo?t.upgradeSessionInfo().then((function(t){t!==ae.Success&&e()})):e()},closeConversation:function(){t.endSession()},showMessageView:y}),!y&&Object(aa.jsx)(Ja,{handleLoginWidget:function(e){switch(e){case me.Zalo:if(s&&s.current)return;s.current=!0,Gn.openZaloWeb((function(){s.current=!1}));break;case me.Anonymous:t.getSessionInfo(me.Anonymous).then((function(e){ae.Success})),Xn.logLoginAnonymous()}},oaInfo:n.oaInfo}),y&&Object(aa.jsxs)(aa.Fragment,{children:[Object(aa.jsx)(Ha,{}),Object(aa.jsx)(ra,{open:h,onClose:function(){return m(!1)}})]}),Object(aa.jsx)(xa,{showMessageView:y,parentUrl:_})]})}));n(285);function Ya(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}var Xa=Object(i.c)((function(e){var t;return{oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name,appStatus:e.app.status,newMsgCount:e.messaging.newMsgCount}}),(function(){return{}}))((function(e){var t=e.appStatus,n=e.newMsgCount,a=e.onClick,c=Object(r.useState)(!0),s=Object(u.a)(c,2),o=s[0],i=s[1];return o&&window.onChangeSizeIframe(window.zsp_min_width,window.zsp_min_height),t!==A.Done?null:Object(aa.jsxs)(aa.Fragment,{children:[Object(aa.jsx)("div",{className:"logo",onClick:function(e){Ya()?window.open(Gn.getZaloMeLink()):(function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&e.indexOf("chrome")<0}()&&(document.hasStorageAccess().then((function(e){}),(function(e){})),document.requestStorageAccess().then((function(){}),(function(){}))),i(!1),a(e))},children:Object(aa.jsx)("img",{src:"/static/images/2.0/Logo.svg",alt:""})}),n>0&&Object(aa.jsx)("div",{className:"notification-number",children:n})]})})),Qa=Object(i.c)((function(e){return{stickerMap:e.sticker.stickerMap,app:e.app,messages:e.history.content.messages}}),(function(e){return{}}))((function(e){var t=e.messages,n=e.stickerMap,a=e.app,c=Object(r.useRef)(null);Object(r.useEffect)((function(){s()}),[t]);var s=function(){null!==c.current&&c.current.scrollIntoView()},o=function(e){var t={index:0,state:G.Sent},a=e.cliMsgId||e.msgId;switch(e.msgType){case we.Text:return!Ga(e.quote)?Object(aa.jsx)(Ua,{msgData:e,msgInfo:t,readonly:!0,stickerMap:n},a):Object(aa.jsx)(Za,{msgData:e,msgInfo:t,readonly:!0},a);case we.Photo:return Object(aa.jsx)(Da,{msgData:e,msgInfo:t,readonly:!0},a);case we.Video:return Object(aa.jsx)(Wa,{msgData:e,msgInfo:t,readonly:!0},a);case we.Sticker:return Object(aa.jsx)(Va,{msgData:e,msgInfo:t,readonly:!0},a);case we.Chat_Recommeneded:return Object(aa.jsx)(qa,{msgData:e,msgInfo:t,readonly:!0},a);case we.File:return Object(aa.jsx)(Fa,{msgData:e,msgInfo:t,readonly:!0},a);case we.Conversation:return Object(aa.jsx)(Ta,{msgData:e,msgInfo:t},a);case we.Audio:return Object(aa.jsx)(Ma,{msgData:e,msgInfo:t,readonly:!0},a);default:return null}},i=function(e){return 0===e.length?null:kt(e[0])?function(e){var t=e[0].cliMsgId||e[0].msgId;return Object(aa.jsx)("div",{className:"media is-user",children:Object(aa.jsx)("div",{className:"media-left",children:e.map(o)})},t)}(e):function(e){var t,n=e[0].cliMsgId||e[0].msgId;return Object(aa.jsxs)("div",{className:"media",children:[Object(aa.jsx)("figure",{className:"image avatar media-left",children:Object(aa.jsx)("img",{src:null===(t=a.oaInfo)||void 0===t?void 0:t.avatar,alt:""})}),Object(aa.jsx)("div",{className:"media-right",children:e.map(o)})]},n)}(e)};return Object(aa.jsx)("div",{className:"box__body",children:function(){var e=[];if(0===t.length)return e;var n=kt(t[0]),a=[];return t.forEach((function(t){var r=kt(t);n===r?a.push(t):(e.push(a),n=!n,a=[t])})),e.push(a),e}().map(i)})})),$a=Object(i.c)((function(e){return{app:e.app,session:e.session,history:e.history}}),(function(e){return{closeHistoryChat:function(){return e(hn())}}}))((function(e){var t,n=e.app,a=e.history,c=e.closeHistoryChat,s=Object(Qn.a)().t,o=null===(t=n.oaInfo)||void 0===t?void 0:t.avatar,i=a.content.total,u=Object(r.useCallback)((function(){var e=window.zsp_width,t=window.zsp_height;window.onChangeSizeIframe(e,t,!0),c()}),[c]);return n.shouldShowBox?Object(aa.jsxs)("div",{className:"box-wrapper",children:[Object(aa.jsx)("div",{className:"box__top",children:Object(aa.jsxs)("div",{className:"box__header media justify-between items-center",children:[Object(aa.jsxs)("div",{className:"media-left is-flex items-center",children:[Object(aa.jsx)(sa,{imgSrc:o||"",isActivated:!0}),Object(aa.jsx)(ia,{title:s("chathistory.title"),desc:"".concat(i," ").concat(s("chathistory.oldmessages"))})]}),Object(aa.jsx)("div",{className:"media-right",children:Object(aa.jsx)(ua,{isCircle:!0,falName:"fa-times",handleClick:u})})]})}),Object(aa.jsx)("div",{className:"box__body",children:Object(aa.jsx)(Qa,{})})]}):null})),er=Object(i.c)((function(e){return{connectionState:e.zwebsocket.connectionState}}),(function(e){return{loadSessionForNewTab:function(){return e(Vn())}}}))((function(e){var t=e.connectionState,n=e.loadSessionForNewTab,a=Object(Qn.a)().t,c=Object(r.useState)(!0),s=Object(u.a)(c,2),o=s[0],i=s[1];Object(r.useEffect)((function(){function e(e){navigator.onLine?(i(!0),n()):i(!1)}return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[n]);return Ya()?Object(aa.jsx)(aa.Fragment,{}):Object(aa.jsx)("div",{className:"ws-state",children:o?t===ne.Connecting?a("network.connecting"):null:a("network.offline")})})),tr=(n(286),Object(i.c)((function(e){return{appState:e.app,history:e.history}}),(function(e){return{initializeWidgetApp:function(){return e(function(){var e=Object(d.a)(Object(l.a)().mark((function e(t,n,a){var r,c,s,o,u,d,f;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.zwidgetService,e.prev=1,c=Object.fromEntries(new URLSearchParams(window.location.search)),Hn(c)){e.next=6;break}return t(un(A.Failed)),e.abrupt("return",ae.Failed);case 6:return s={oaIdPublic:c.oaid,oaWelcomeMessage:c.welcomemessage,oaAutoPopup:"0"===c.autopopup?0:1,oaWidth:parseInt(c.width),oaHeight:parseInt(c.height)},o=r.getWidgetOAInfo(s.oaIdPublic),u=r.getZUserInfo(),e.next=11,o;case 11:return d=e.sent,e.next=14,u;case 14:if(f=e.sent,null!=d.data){e.next=18;break}return t(un(A.Failed)),e.abrupt("return",ae.Failed);case 18:return Object(i.b)((function(){t(un(A.Done,s,d.data,f.data)),t(Vn())})),Gn.logLoadWidget(),e.abrupt("return",ae.Success);case 23:return e.prev=23,e.t0=e.catch(1),t(un(A.Failed)),e.abrupt("return",ae.Failed);case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n,a){return e.apply(this,arguments)}}())},updateShowBox:function(t){return e(function(e){return function(){var t=Object(d.a)(Object(l.a)().mark((function t(n,a,r){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.zwidgetService,t.prev=1,Object(i.b)((function(){n(fn(e)),e&&n(sn(0))})),t.abrupt("return",ae.Success);case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",ae.Failed);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,a){return t.apply(this,arguments)}}()}(t))},loadSessionForNewTab:function(){return e(Vn())}}}))),nr=function(e,t,n){window.onChangeSizeIframe(e,t)},ar=tr((function(e){var t=e.appState,n=e.history,a=e.updateShowBox,c=e.initializeWidgetApp,s=e.loadSessionForNewTab,o="true"===window.zsp_left_side,i=Object(r.useState)(t.shouldShowBox),l=Object(u.a)(i,2),d=l[0],f=l[1];Object(r.useEffect)((function(){}),[]),Object(r.useEffect)((function(){c();var e=function(){document.hidden||s()};return document.addEventListener("visibilitychange",e,!1),function(){document.removeEventListener("visibilitychange",e,!1)}}),[c,s]),Object(r.useEffect)((function(){t.shouldShowBox&&f(!0)}),[n.shouldShow,t.shouldShowBox]);return Object(aa.jsxs)(aa.Fragment,{children:[Object(aa.jsxs)("div",{className:"za-chat".concat(o?" left-side":""),children:[Object(aa.jsxs)("div",{className:"chat-wrapper za-chat__wrapper",children:[n.shouldShow&&Object(aa.jsx)("div",{className:"za-chat__wrapper__history-box",children:Object(aa.jsx)($a,{})}),Object(aa.jsx)("div",{className:"za-chat__wrapper__chat-box zl_chat_bounce_in".concat(t.shouldShowBox?"":" zl_chat_bounce_out"),style:{width:n.shouldShow?"440px":"100%",height:d?"100%":0},onAnimationEnd:function(){if(!t.shouldShowBox){f(!1);var e=window.zsp_min_width,n=window.zsp_min_height;nr(e,n)}},children:Object(aa.jsx)(Ka,{})})]}),Object(aa.jsx)("div",{className:"za-chat__head-box",children:Object(aa.jsx)(Xa,{onClick:function(){if(!d){var e=n.shouldShow?window.zsp_max_width:window.zsp_width,t=n.shouldShow?window.zsp_max_height:window.zsp_height;nr(e,t),Xn.logOpenChatHead(),Gn.logOpenWidget()}a(!d)}})})]}),Object(aa.jsx)("div",{style:{position:"fixed",bottom:0},children:Object(aa.jsx)(er,{})})]})})),rr=n(51),cr=n(154);wt.a.use(cr.a).use(rr.e).init({fallbackLng:"vi",debug:!1,backend:{loadPath:"/static/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1},interpolation:{escapeValue:!1}});var sr=wt.a;n(287);var or=function(){return Object(aa.jsx)(ar,{})},ir=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,292)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};sr.on("initialized",(function(){o.a.render(Object(aa.jsx)(c.a.StrictMode,{children:Object(aa.jsx)(i.a,{store:_t,children:Object(aa.jsx)(or,{})})}),document.getElementById("root"))})),ir()}},[[288,1,2]]]);